/*! For license information please see CoCreate-stripe.js.LICENSE.txt */
!function(Q,F){"object"==typeof exports&&"object"==typeof module?module.exports=F():"function"==typeof define&&define.amd?define([],F):"object"==typeof exports?exports.CoCreate=F():(Q.CoCreate=Q.CoCreate||{},Q.CoCreate.stripe=F())}(this,(function(){return(()=>{"use strict";var __webpack_modules__={"../../CoCreate-components/CoCreate-action/src/index.js":(__unused_webpack_module,exports)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n// -testing1\nconst CoCreateAction = {\n  attribute: 'data-actions',\n  actions: {},\n  selectedStage: [],\n  stageIndex: 0,\n  selectedElement: null,\n  completedEventName: 'completedEvent',\n  __init: function () {\n    this.actionButtonEvent();\n  },\n  actionButtonEvent: function () {\n    const self = this;\n    document.addEventListener('click', function (event) {\n      let btn = event.target;\n\n      if (!btn.getAttribute('data-actions')) {\n        btn = event.target.closest('[data-actions]');\n      }\n\n      if (!btn) return;\n      event.preventDefault();\n      let actions = (btn.getAttribute(self.attribute) || \"\").replace(/\\s/g, '').split(',');\n      if (actions.length == 0) return;\n      self.stageIndex = 0;\n      self.selectedStage = actions; //. run function\n\n      self.selectedElement = btn;\n\n      self.__runActionFunc();\n    });\n  },\n  init: function ({\n    action,\n    callback,\n    endEvent\n  }) {\n    this.registerEvent(action, callback, null, endEvent);\n  },\n\n  /**\n   * key: string\n   * runFunc: function\n   * instance: object\n   * endEvent: string\n   **/\n  registerEvent: function (key, runFunc, instance, endEvent) {\n    if (this.actions[key]) {\n      return;\n    }\n\n    this.actions[key] = {\n      key: key,\n      runFunc: runFunc,\n      instance: instance || window,\n      endEvent: endEvent\n    }; //. register events\n\n    for (let __key in this.actions) {\n      if (__key != key && this.actions[__key]['endEvent'] === endEvent) {\n        return;\n      }\n    } //. register events\n\n\n    const _this = this;\n\n    document.addEventListener(endEvent, function (e) {\n      _this.__nextAction(endEvent, e.detail);\n    });\n  },\n  __runActionFunc: function (data) {\n    if (this.stageIndex >= this.selectedStage.length) {\n      //. if latest case, it will be run aTag\n      if (this.stageIndex == this.selectedStage.length) {\n        this.__runAtag(this.selectedElement);\n      }\n\n      return;\n    }\n\n    const actionName = this.selectedStage[this.stageIndex]; //. run function\n\n    const action = this.actions[actionName];\n\n    if (action) {\n      if (action.runFunc) {\n        action.runFunc.call(null, this.selectedElement, data);\n      } else {\n        this.__nextAction(action.endEvent, {});\n      }\n    } else {\n      let status = this.__runSpecialAction(actionName, data);\n\n      if (status === \"next\") {\n        this.__moveNextAction();\n      }\n    }\n  },\n  __nextAction: function (eventName, data) {\n    const key = this.selectedStage[this.stageIndex];\n\n    if (!key) {\n      return;\n    }\n\n    if (eventName !== this.actions[key].endEvent) {\n      return;\n    }\n\n    this.__moveNextAction(data);\n  },\n  __runAtag: function (button) {\n    var aTag = button.querySelector('a');\n\n    if (aTag) {// CoCreate.logic.setLinkProcess(aTag)\n    }\n  },\n  //. special action\n  __runSpecialAction: function (actionName, data) {\n    let matches = /(\\w+)\\{([a-zA-Z0-9_ \\-#$.]+)\\}/gm.exec(actionName);\n\n    if (!matches || matches.length < 3) {\n      return \"next\";\n    }\n\n    let type = matches[1],\n        param = matches[2].trim();\n    if (!param) return \"next\";\n    const self = this;\n\n    switch (type) {\n      case 'event':\n        console.log(\"Waiting Event....\");\n        document.addEventListener(param, eventData => {\n          console.log('Event Action (Received event from other section) ====== ' + param);\n\n          self.__moveNextAction(eventData);\n        }, {\n          once: true\n        });\n        break;\n\n      case 'timeout':\n        let delayTime = parseInt(param);\n\n        if (delayTime > 0) {\n          setTimeout(function () {\n            console.log(\"Timeout ======= \" + param);\n\n            self.__moveNextAction(data);\n          }, parseInt(param));\n        }\n\n        break;\n\n      case 'action':\n        let btn = document.querySelector(param);\n\n        if (btn) {\n          btn.click();\n        }\n\n        break;\n\n      default:\n        return \"next\";\n    }\n  },\n  __moveNextAction: function (data) {\n    this.stageIndex++;\n\n    this.__runActionFunc(data);\n  }\n};\n\nCoCreateAction.__init();\n\nvar _default = CoCreateAction;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5zdHJpcGUvLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1hY3Rpb24vc3JjL2luZGV4LmpzPzgyNWIiXSwibmFtZXMiOlsiQ29DcmVhdGVBY3Rpb24iLCJhdHRyaWJ1dGUiLCJhY3Rpb25zIiwic2VsZWN0ZWRTdGFnZSIsInN0YWdlSW5kZXgiLCJzZWxlY3RlZEVsZW1lbnQiLCJjb21wbGV0ZWRFdmVudE5hbWUiLCJfX2luaXQiLCJhY3Rpb25CdXR0b25FdmVudCIsInNlbGYiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImJ0biIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsImNsb3Nlc3QiLCJwcmV2ZW50RGVmYXVsdCIsInJlcGxhY2UiLCJzcGxpdCIsImxlbmd0aCIsIl9fcnVuQWN0aW9uRnVuYyIsImluaXQiLCJhY3Rpb24iLCJjYWxsYmFjayIsImVuZEV2ZW50IiwicmVnaXN0ZXJFdmVudCIsImtleSIsInJ1bkZ1bmMiLCJpbnN0YW5jZSIsIndpbmRvdyIsIl9fa2V5IiwiX3RoaXMiLCJlIiwiX19uZXh0QWN0aW9uIiwiZGV0YWlsIiwiZGF0YSIsIl9fcnVuQXRhZyIsImFjdGlvbk5hbWUiLCJjYWxsIiwic3RhdHVzIiwiX19ydW5TcGVjaWFsQWN0aW9uIiwiX19tb3ZlTmV4dEFjdGlvbiIsImV2ZW50TmFtZSIsImJ1dHRvbiIsImFUYWciLCJxdWVyeVNlbGVjdG9yIiwibWF0Y2hlcyIsImV4ZWMiLCJ0eXBlIiwicGFyYW0iLCJ0cmltIiwiY29uc29sZSIsImxvZyIsImV2ZW50RGF0YSIsIm9uY2UiLCJkZWxheVRpbWUiLCJwYXJzZUludCIsInNldFRpbWVvdXQiLCJjbGljayJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQSxNQUFNQSxjQUFjLEdBQUc7QUFDckJDLFdBQVMsRUFBRSxjQURVO0FBRXJCQyxTQUFPLEVBQUUsRUFGWTtBQUdyQkMsZUFBYSxFQUFFLEVBSE07QUFJ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QVEsQ0FBQ29DLGFBQVQsQ0FBdUJJLEtBQXZCLENBQVY7O0FBQ0EsWUFBSXJDLEdBQUosRUFBUztBQUNQQSxhQUFHLENBQUM4QyxLQUFKO0FBQ0Q7O0FBQ0Q7O0FBQ0Y7QUFDRSxlQUFPLE1BQVA7QUF4Qko7QUEwQkQsR0E1Sm9CO0FBOEpyQmpCLGtCQUFnQixFQUFFLFVBQVNOLElBQVQsRUFBZTtBQUMvQixTQUFLaEMsVUFBTDs7QUFDQSxTQUFLaUIsZUFBTCxDQUFxQmUsSUFBckI7QUFDRDtBQWpLb0IsQ0FBdkI7O0FBcUtBcEMsY0FBYyxDQUFDTyxNQUFmOztlQUVlUCxjIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtYWN0aW9uL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIC10ZXN0aW5nMVxuY29uc3QgQ29DcmVhdGVBY3Rpb24gPSB7XG4gIGF0dHJpYnV0ZTogJ2RhdGEtYWN0aW9ucycsXG4gIGFjdGlvbnM6IHt9LFxuICBzZWxlY3RlZFN0YWdlOiBbXSxcbiAgc3RhZ2VJbmRleDogMCxcbiAgc2VsZWN0ZWRFbGVtZW50OiBudWxsLFxuICBcbiAgY29tcGxldGVkRXZlbnROYW1lOiAnY29tcGxldGVkRXZlbnQnLFxuICBcbiAgX19pbml0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmFjdGlvbkJ1dHRvbkV2ZW50KClcbiAgfSxcblxuICBhY3Rpb25CdXR0b25FdmVudDogZnVuY3Rpb24oKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgbGV0IGJ0biA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb25zJykpIHtcbiAgICAgICAgYnRuID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWFjdGlvbnNdJyk7XG4gICAgICB9XG4gICAgICBpZiAoIWJ0bikgcmV0dXJuO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgbGV0IGFjdGlvbnMgPSAoYnRuLmdldEF0dHJpYnV0ZShzZWxmLmF0dHJpYnV0ZSkgfHwgXCJcIikucmVwbGFjZSgvXFxzL2csICcnKS5zcGxpdCgnLCcpO1xuICAgICAgaWYgKGFjdGlvbnMubGVuZ3RoID09IDApIHJldHVybjtcbiAgICAgIHNlbGYuc3RhZ2VJbmRleCA9IDA7XG4gICAgICBzZWxmLnNlbGVjdGVkU3RhZ2UgPSBhY3Rpb25zO1xuICAgICAgXG4gICAgICAvLy4gcnVuIGZ1bmN0aW9uXG4gICAgICBzZWxmLnNlbGVjdGVkRWxlbWVudCA9IGJ0bjtcbiAgICAgIHNlbGYuX19ydW5BY3Rpb25GdW5jKCk7XG4gICAgfSlcbiAgfSxcbiAgXG4gIGluaXQ6IGZ1bmN0aW9uKHthY3Rpb24sIGNhbGxiYWNrLCBlbmRFdmVudH0pIHtcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoYWN0aW9uLCBjYWxsYmFjaywgbnVsbCwgZW5kRXZlbnQpO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIGtleTogc3RyaW5nXG4gICAqIHJ1bkZ1bmM6IGZ1bmN0aW9uXG4gICAqIGluc3RhbmNlOiBvYmplY3RcbiAgICogZW5kRXZlbnQ6IHN0cmluZ1xuICAgKiovXG4gIHJlZ2lzdGVyRXZlbnQ6IGZ1bmN0aW9uKGtleSwgcnVuRnVuYywgaW5zdGFuY2UsIGVuZEV2ZW50KSB7XG4gICAgaWYgKHRoaXMuYWN0aW9uc1trZXldKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRoaXMuYWN0aW9uc1trZXldID0ge1xuICAgICAga2V5OiBrZXksXG4gICAgICBydW5GdW5jOiBydW5GdW5jLFxuICAgICAgaW5zdGFuY2U6IGluc3RhbmNlIHx8IHdpbmRvdyxcbiAgICAgIGVuZEV2ZW50OiBlbmRFdmVudFxuICAgIH1cbiAgICAvLy4gcmVnaXN0ZXIgZXZlbnRzXG4gICAgXG4gICAgZm9yIChsZXQgX19rZXkgaW4gdGhpcy5hY3Rpb25zKSB7XG4gICAgICBpZiAoX19rZXkgIT0ga2V5ICYmIHRoaXMuYWN0aW9uc1tfX2tleV1bJ2VuZEV2ZW50J10gPT09IGVuZEV2ZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8uIHJlZ2lzdGVyIGV2ZW50c1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBmdW5jdGlvbihlKSB7XG4gICAgICBfdGhpcy5fX25leHRBY3Rpb24oZW5kRXZlbnQsIGUuZGV0YWlsKVxuICAgIH0pO1xuICB9LFxuICBcbiAgX19ydW5BY3Rpb25GdW5jOiBmdW5jdGlvbihkYXRhKSB7XG5cbiAgICBpZiAodGhpcy5zdGFnZUluZGV4ID49IHRoaXMuc2VsZWN0ZWRTdGFnZS5sZW5ndGgpIHtcblxuICAgICAgLy8uIGlmIGxhdGVzdCBjYXNlLCBpdCB3aWxsIGJlIHJ1biBhVGFnXG4gICAgICBpZiAodGhpcy5zdGFnZUluZGV4ID09IHRoaXMuc2VsZWN0ZWRTdGFnZS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fX3J1bkF0YWcodGhpcy5zZWxlY3RlZEVsZW1lbnQpOyAgICAgICAgXG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGFjdGlvbk5hbWUgPSB0aGlzLnNlbGVjdGVkU3RhZ2VbdGhpcy5zdGFnZUluZGV4XTtcbiAgICAvLy4gcnVuIGZ1bmN0aW9uXG4gICAgY29uc3QgYWN0aW9uID0gdGhpcy5hY3Rpb25zW2FjdGlvbk5hbWVdO1xuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIGlmIChhY3Rpb24ucnVuRnVuYykge1xuICAgICAgICBhY3Rpb24ucnVuRnVuYy5jYWxsKG51bGwsIHRoaXMuc2VsZWN0ZWRFbGVtZW50LCBkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX19uZXh0QWN0aW9uKGFjdGlvbi5lbmRFdmVudCwge30pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgc3RhdHVzID0gdGhpcy5fX3J1blNwZWNpYWxBY3Rpb24oYWN0aW9uTmFtZSwgZGF0YSk7XG4gICAgICBpZiAoc3RhdHVzID09PSBcIm5leHRcIikge1xuICAgICAgICB0aGlzLl9fbW92ZU5leHRBY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIFxuICBfX25leHRBY3Rpb246IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgIGNvbnN0IGtleSA9IHRoaXMuc2VsZWN0ZWRTdGFnZVt0aGlzLnN0YWdlSW5kZXhdO1xuICAgIGlmICgha2V5KSB7XG4gICAgICByZXR1cm4gO1xuICAgIH1cbiAgICBpZiAoZXZlbnROYW1lICE9PSB0aGlzLmFjdGlvbnNba2V5XS5lbmRFdmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9fbW92ZU5leHRBY3Rpb24oZGF0YSk7XG4gIH0sXG4gIFxuICBfX3J1bkF0YWc6IGZ1bmN0aW9uKGJ1dHRvbikge1xuICAgIHZhciBhVGFnID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcbiAgICAgICAgICBcbiAgICBpZiAoYVRhZykge1xuICAgICAgLy8gQ29DcmVhdGUubG9naWMuc2V0TGlua1Byb2Nlc3MoYVRhZylcbiAgICB9XG4gIH0sXG4gIFxuICAvLy4gc3BlY2lhbCBhY3Rpb25cbiAgXG4gIF9fcnVuU3BlY2lhbEFjdGlvbjogZnVuY3Rpb24oYWN0aW9uTmFtZSwgZGF0YSkge1xuICAgIGxldCBtYXRjaGVzID0gLyhcXHcrKVxceyhbYS16QS1aMC05XyBcXC0jJC5dKylcXH0vZ20uZXhlYyhhY3Rpb25OYW1lKVxuICAgIFxuICAgIGlmICghbWF0Y2hlcyB8fCBtYXRjaGVzLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBcIm5leHRcIjtcbiAgICB9XG4gICAgXG4gICAgbGV0IHR5cGUgPSBtYXRjaGVzWzFdLCBwYXJhbSA9IG1hdGNoZXNbMl0udHJpbSgpXG4gICAgaWYgKCFwYXJhbSkgcmV0dXJuIFwibmV4dFwiO1xuICAgIFxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnZXZlbnQnOlxuICAgICAgICBjb25zb2xlLmxvZyhcIldhaXRpbmcgRXZlbnQuLi4uXCIpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHBhcmFtLCAoZXZlbnREYXRhKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0V2ZW50IEFjdGlvbiAoUmVjZWl2ZWQgZXZlbnQgZnJvbSBvdGhlciBzZWN0aW9uKSA9PT09PT0gJyArIHBhcmFtKTtcbiAgICAgICAgICBzZWxmLl9fbW92ZU5leHRBY3Rpb24oZXZlbnREYXRhKTtcbiAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGltZW91dCc6XG4gICAgICAgIGxldCBkZWxheVRpbWUgPSBwYXJzZUludChwYXJhbSk7XG4gICAgICAgIGlmIChkZWxheVRpbWUgPiAwKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGltZW91dCA9PT09PT09IFwiICsgcGFyYW0pXG4gICAgICAgICAgICBzZWxmLl9fbW92ZU5leHRBY3Rpb24oZGF0YSk7XG4gICAgICAgICAgfSwgcGFyc2VJbnQocGFyYW0pKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2FjdGlvbic6XG4gICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBhcmFtKTtcbiAgICAgICAgaWYgKGJ0bikge1xuICAgICAgICAgIGJ0bi5jbGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFwibmV4dFwiO1xuICAgIH1cbiAgfSxcbiAgXG4gIF9fbW92ZU5leHRBY3Rpb246IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICB0aGlzLnN0YWdlSW5kZXggKys7XG4gICAgdGhpcy5fX3J1bkFjdGlvbkZ1bmMoZGF0YSk7XG4gIH0sXG59XG5cblxuQ29DcmVhdGVBY3Rpb24uX19pbml0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlQWN0aW9uOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-action/src/index.js\n")},"../../CoCreate-components/CoCreate-api/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _socketClient = _interopRequireDefault(__webpack_require__(/*! @cocreate/socket-client */ "../../CoCreate-components/CoCreate-socket-client/src/index.js"));\n\nvar _action = _interopRequireDefault(__webpack_require__(/*! @cocreate/action */ "../../CoCreate-components/CoCreate-action/src/index.js"));\n\nvar _render = _interopRequireDefault(__webpack_require__(/*! @cocreate/render */ "../../CoCreate-components/CoCreate-render/src/index.js"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet socketApi = new _socketClient.default(\'api\');\nconst CoCreateApi = {\n  modules: {},\n  init: function ({\n    name,\n    module\n  }) {\n    this.register(name, module);\n  },\n  register: function (name, m_instance) {\n    const self = this;\n\n    if (typeof this.modules[name] === \'undefined\') {\n      this.modules[name] = m_instance;\n      socketApi.listen(name, data => {\n        self.__responseProcess(name, data);\n      }); //. register actions\n\n      if (Array.isArray(m_instance[\'actions\'])) {\n        m_instance[\'actions\'].forEach(action => {\n          if (typeof m_instance[`action_${action}`] !== \'function\') {\n            m_instance[`action_${action}`] = function (element) {\n              self.__commonAction(m_instance.id, action, element);\n            };\n          }\n\n          _action.default.init({\n            action: action,\n            endEvent: action,\n            callback: btn => {\n              m_instance[`action_${action}`](btn);\n            }\n          });\n        });\n      }\n    }\n  },\n  __responseProcess: function (m_name, data) {\n    const {\n      type,\n      response\n    } = data;\n    const m_instance = this.modules[m_name];\n\n    if (type && response && m_instance) {\n      if (typeof m_instance[`render_${type}`] === \'function\') {\n        m_instance[`render_${type}`](response);\n      }\n\n      this.render(type, response);\n      document.dispatchEvent(new CustomEvent(type, {\n        detail: {\n          data: response\n        }\n      }));\n    }\n  },\n  __commonAction: function (id, action, element) {\n    const container = element.closest("form") || document;\n    let data = CoCreateApi.getFormData(id, action, container);\n    CoCreateApi.send(id, action, data);\n  },\n  getFormData: function (m_name, action, container) {\n    const mainAttr = `data-${m_name}`;\n    const self = this;\n    const elements = container.querySelectorAll(`[${mainAttr}^="${action}."]`);\n    let data = {};\n    elements.forEach(element => {\n      let name = element.getAttribute(mainAttr);\n      let array_name = element.getAttribute(mainAttr + "_array");\n\n      let value = self.__getElValue(element);\n\n      if (!name) return;\n\n      if (action) {\n        let re = new RegExp(`^${action}.`, \'i\');\n\n        if (re.test(name)) {\n          name = name.replace(re, "");\n        } else {\n          return;\n        }\n      }\n\n      if (array_name) {\n        if (!data[name]) {\n          data[name] = [];\n        }\n\n        data[name].push(self.getFormData(m_name, array_name, element));\n      } else if (value != null) {\n        data[name] = value;\n      }\n    });\n    let keys = Object.keys(data);\n    let objectData = {};\n    keys.forEach(k => {\n      if (k.split(\'.\').length > 1) {\n        let newData = self.__createObject(data[k], k);\n\n        delete data[k];\n        objectData = self.__mergeObject(objectData, newData);\n      } else {\n        objectData[k] = data[k];\n      }\n    });\n    return objectData;\n  },\n  __getElValue: function (element) {\n    let value = null;\n\n    if (typeof element.value !== "undefined") {\n      switch (element.type.toLocaleLowerCase()) {\n        case \'checkbox\':\n          if (element.checked) {\n            value = element.value;\n          }\n\n          break;\n\n        default:\n          value = element.value;\n          break;\n      }\n    } else {\n      value = element.getAttribute(\'value\');\n\n      if (!value) {\n        value = element.innerHTML;\n      }\n    }\n\n    return value;\n  },\n  __mergeObject: function (target, source) {\n    target = target || {};\n\n    for (let key of Object.keys(source)) {\n      if (source[key] instanceof Object) {\n        Object.assign(source[key], this.__mergeObject(target[key], source[key]));\n      }\n    }\n\n    Object.assign(target || {}, source);\n    return target;\n  },\n  __createObject: function (data, path) {\n    if (!path) return data;\n    let keys = path.split(\'.\');\n    let newObject = data;\n\n    for (var i = keys.length - 1; i >= 0; i--) {\n      newObject = {\n        [keys[i]]: newObject\n      };\n    }\n\n    return newObject;\n  },\n  send: function (module, action, data) {\n    let request_data = this.getCommonParamsExtend(data || {});\n    request_data = { ...request_data,\n      data\n    };\n    socketApi.send(module, {\n      type: action,\n      data: request_data\n    });\n  },\n  render: function (action, data) {\n    _render.default.data({\n      selector: `[data-template_id="${action}"]`,\n      data: data\n    });\n  },\n  createApiSocket: function (host, namespace) {\n    if (namespace) {\n      socketApi.create({\n        namespace: namespace,\n        room: null,\n        host: host\n      });\n      socketApi.setGlobalScope(namespace);\n    } else {\n      socketApi.create({\n        namespace: null,\n        room: null,\n        host: host\n      });\n    }\n  },\n  getCommonParamsExtend: function (info) {\n    return {\n      "apiKey": info.apiKey || config.apiKey,\n      "securityKey": info.securityKey || config.securityKey,\n      "organization_id": info.organization_id || config.organization_Id\n    };\n  }\n};\nCoCreateApi.createApiSocket(window.config.host ? window.config.host : \'server.cocreate.app\', window.config.organization_Id // window.config.apiKey\n// window.config.securityKey\n);\nvar _default = CoCreateApi;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5zdHJpcGUvLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1hcGkvc3JjL2luZGV4LmpzPzU0MTEiXSwibmFtZXMiOlsic29ja2V0QXBpIiwiQ29DcmVhdGVTb2NrZXQiLCJDb0NyZWF0ZUFwaSIsIm1vZHVsZXMiLCJpbml0IiwibmFtZSIsIm1vZHVsZSIsInJlZ2lzdGVyIiwibV9pbnN0YW5jZSIsInNlbGYiLCJsaXN0ZW4iLCJkYXRhIiwiX19yZXNwb25zZVByb2Nlc3MiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwiYWN0aW9uIiwiZWxlbWVudCIsIl9fY29tbW9uQWN0aW9uIiwiaWQiLCJDb0NyZWF0ZUFjdGlvbiIsImVuZEV2ZW50IiwiY2FsbGJhY2siLCJidG4iLCJtX25hbWUiLCJ0eXBlIiwicmVzcG9uc2UiLCJyZW5kZXIiLCJkb2N1bWVudCIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImNvbnRhaW5lciIsImNsb3Nlc3QiLCJnZXRGb3JtRGF0YSIsInNlbmQiLCJtYWluQXR0ciIsImVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImdldEF0dHJpYnV0ZSIsImFycmF5X25hbWUiLCJ2YWx1ZSIsIl9fZ2V0RWxWYWx1ZSIsInJlIiwiUmVnRXhwIiwidGVzdCIsInJlcGxhY2UiLCJwdXNoIiwia2V5cyIsIk9iamVjdCIsIm9iamVjdERhdGEiLCJrIiwic3BsaXQiLCJsZW5ndGgiLCJuZXdEYXRhIiwiX19jcmVhdGVPYmplY3QiLCJfX21lcmdlT2JqZWN0IiwidG9Mb2NhbGVMb3dlckNhc2UiLCJjaGVja2VkIiwiaW5uZXJIVE1MIiwidGFyZ2V0Iiwic291cmNlIiwia2V5IiwiYXNzaWduIiwicGF0aCIsIm5ld09iamVjdCIsImkiLCJyZXF1ZXN0X2RhdGEiLCJnZXRDb21tb25QYXJhbXNFeHRlbmQiLCJDb0NyZWF0ZVJlbmRlciIsInNlbGVjdG9yIiwiY3JlYXRlQXBpU29ja2V0IiwiaG9zdCIsIm5hbWVzcGFjZSIsImNyZWF0ZSIsInJvb20iLCJzZXRHbG9iYWxTY29wZSIsImluZm8iLCJhcGlLZXkiLCJjb25maWciLCJzZWN1cml0eUtleSIsIm9yZ2FuaXphdGlvbl9pZCIsIm9yZ2FuaXphdGlvbl9JZCIsIndpbmRvdyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBSUEsU0FBUyxHQUFHLElBQUlDLHFCQUFKLENBQW1CLEtBQW5CLENBQWhCO0FBRUEsTUFBTUMsV0FBVyxHQUFHO0FBQ25CQyxTQUFPLEVBQUUsRUFEVTtBQUduQkMsTUFBSSxFQUFFLFVBQVM7QUFBQ0MsUUFBRDtBQUFPQztBQUFQLEdBQVQsRUFBeUI7QUFDOUIsU0FBS0MsUUFBTCxDQUFjRixJQUFkLEVBQW9CQyxNQUFwQjtBQUNBLEdBTGtCO0FBT25CQyxVQUFRLEVBQUUsVUFBU0YsSUFBVCxFQUFlRyxVQUFmLEVBQTJCO0FBQ3BDLFVBQU1DLElBQUksR0FBRyxJQUFiOztBQUNBLFFBQUksT0FBTyxLQUFLTixPQUFMLENBQWFFLElBQWIsQ0FBUCxLQUE4QixXQUFsQyxFQUErQztBQUM5QyxXQUFLRixPQUFMLENBQWFFLElBQWIsSUFBcUJHLFVBQXJCO0FBRUFSLGVBQVMsQ0FBQ1UsTUFBVixDQUFpQkwsSUFBakIsRUFBd0JNLElBQUQsSUFBVTtBQUNoQ0YsWUFBSSxDQUFDRyxpQkFBTCxDQUF1QlAsSUFBdkIsRUFBNkJNLElBQTdCO0FBQ0EsT0FGRCxFQUg4QyxDQU85Qzs7QUFFQSxVQUFJRSxLQUFLLENBQUNDLE9BQU4sQ0FBY04sVUFBVSxDQUFDLFNBQUQsQ0FBeEIsQ0FBSixFQUEwQztBQUN6Q0Esa0JBQVUsQ0FBQyxTQUFELENBQVYsQ0FBc0JPLE9BQXRCLENBQStCQyxNQUFELElBQVk7QUFDekMsY0FBSSxPQUFPUixVQUFVLENBQUUsVUFBU1EsTUFBTyxFQUFsQixDQUFqQixLQUEwQyxVQUE5QyxFQUEwRDtBQUN6RFIsc0JBQVUsQ0FBRSxVQUFTUSxN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QWlCO0FBQ2hCRCxpQkFBUyxFQUFFQSxTQURLO0FBRWhCRSxZQUFJLEVBQUUsSUFGVTtBQUdoQkgsWUFBSSxFQUFFQTtBQUhVLE9BQWpCO0FBS0F4RSxlQUFTLENBQUM0RSxjQUFWLENBQXlCSCxTQUF6QjtBQUNBLEtBUEQsTUFPTztBQUNOekUsZUFBUyxDQUFDMEUsTUFBVixDQUFpQjtBQUNoQkQsaUJBQVMsRUFBRSxJQURLO0FBRWhCRSxZQUFJLEVBQUUsSUFGVTtBQUdoQkgsWUFBSSxFQUFFQTtBQUhVLE9BQWpCO0FBS0E7QUFDRCxHQTFMa0I7QUE0TG5CSix1QkFBcUIsRUFBRSxVQUFTUyxJQUFULEVBQ3ZCO0FBQ0MsV0FBTztBQUNOLGdCQUFvQkEsSUFBSSxDQUFDQyxNQUFMLElBQWVDLE1BQU0sQ0FBQ0QsTUFEcEM7QUFFTixxQkFBb0JELElBQUksQ0FBQ0csV0FBTCxJQUFvQkQsTUFBTSxDQUFDQyxXQUZ6QztBQUdOLHlCQUFvQkgsSUFBSSxDQUFDSSxlQUFMLElBQXdCRixNQUFNLENBQUNHO0FBSDdDLEtBQVA7QUFLQTtBQW5Na0IsQ0FBcEI7QUFzTUFoRixXQUFXLENBQUNxRSxlQUFaLENBQ0NZLE1BQU0sQ0FBQ0osTUFBUCxDQUFjUCxJQUFkLEdBQXFCVyxNQUFNLENBQUNKLE1BQVAsQ0FBY1AsSUFBbkMsR0FBMEMscUJBRDNDLEVBRUNXLE1BQU0sQ0FBQ0osTUFBUCxDQUFjRyxlQUZmLENBR0M7QUFDQTtBQUpEO2VBT2VoRixXIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtYXBpL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb0NyZWF0ZVNvY2tldCBmcm9tIFwiQGNvY3JlYXRlL3NvY2tldC1jbGllbnRcIlxuaW1wb3J0IENvQ3JlYXRlQWN0aW9uIGZyb20gJ0Bjb2NyZWF0ZS9hY3Rpb24nXG5pbXBvcnQgQ29DcmVhdGVSZW5kZXIgZnJvbSAnQGNvY3JlYXRlL3JlbmRlcidcblxubGV0IHNvY2tldEFwaSA9IG5ldyBDb0NyZWF0ZVNvY2tldCgnYXBpJyk7XG5cbmNvbnN0IENvQ3JlYXRlQXBpID0geyBcblx0bW9kdWxlczogeyB9LFxuXHRcblx0aW5pdDogZnVuY3Rpb24oe25hbWUsIG1vZHVsZX0pIHtcblx0XHR0aGlzLnJlZ2lzdGVyKG5hbWUsIG1vZHVsZSlcdFxuXHR9LFxuXHRcblx0cmVnaXN0ZXI6IGZ1bmN0aW9uKG5hbWUsIG1faW5zdGFuY2UpIHtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRpZiAodHlwZW9mIHRoaXMubW9kdWxlc1tuYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHRoaXMubW9kdWxlc1tuYW1lXSA9IG1faW5zdGFuY2U7XG5cdFx0XHRcblx0XHRcdHNvY2tldEFwaS5saXN0ZW4obmFtZSwgKGRhdGEpID0+IHtcblx0XHRcdFx0c2VsZi5fX3Jlc3BvbnNlUHJvY2VzcyhuYW1lLCBkYXRhKTtcblx0XHRcdH0pXG5cdFx0XHRcblx0XHRcdC8vLiByZWdpc3RlciBhY3Rpb25zXG5cdFx0XHRcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KG1faW5zdGFuY2VbJ2FjdGlvbnMnXSkpIHtcblx0XHRcdFx0bV9pbnN0YW5jZVsnYWN0aW9ucyddLmZvckVhY2goKGFjdGlvbikgPT4ge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgbV9pbnN0YW5jZVtgYWN0aW9uXyR7YWN0aW9ufWBdICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRtX2luc3RhbmNlW2BhY3Rpb25fJHthY3Rpb259YF0gPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYuX19jb21tb25BY3Rpb24obV9pbnN0YW5jZS5pZCwgYWN0aW9uLCBlbGVtZW50KVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gXG5cdFx0XHRcdFx0Q29DcmVhdGVBY3Rpb24uaW5pdCh7XG5cdFx0XHRcdFx0XHRhY3Rpb246IGFjdGlvbixcblx0XHRcdFx0XHRcdGVuZEV2ZW50OiBhY3Rpb24sXG5cdFx0XHRcdFx0XHRjYWxsYmFjazogKGJ0bikgPT4ge1xuXHRcdFx0XHRcdFx0XHRtX2luc3RhbmNlW2BhY3Rpb25fJHthY3Rpb259YF0oYnRuKTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdFxuXHRfX3Jlc3BvbnNlUHJvY2VzczogZnVuY3Rpb24obV9uYW1lLCBkYXRhKSB7XG5cdFx0Y29uc3Qge3R5cGUsIHJlc3BvbnNlfSA9IGRhdGE7XG5cdFx0Y29uc3QgbV9pbnN0YW5jZSA9IHRoaXMubW9kdWxlc1ttX25hbWVdXG5cdFx0XG5cdFx0aWYgKHR5cGUgJiYgcmVzcG9uc2UgJiYgbV9pbnN0YW5jZSkge1xuXHRcdFxuXHRcdFx0aWYgKCB0eXBlb2YgbV9pbnN0YW5jZVtgcmVuZGVyXyR7dHlwZX1gXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRtX2luc3RhbmNlW2ByZW5kZXJfJHt0eXBlfWBdKHJlc3BvbnNlKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dGhpcy5yZW5kZXIodHlwZSwgcmVzcG9uc2UpO1xuXHRcdFx0XG5cdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCh0eXBlLCB7XG5cdFx0XHRcdGRldGFpbDoge1xuXHRcdFx0XHRcdGRhdGE6IHJlc3BvbnNlXG5cdFx0XHRcdH1cblx0XHRcdH0pKVxuXHRcdH1cblx0fSxcblx0XG5cdF9fY29tbW9uQWN0aW9uOiBmdW5jdGlvbihpZCwgYWN0aW9uLCBlbGVtZW50KSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gZWxlbWVudC5jbG9zZXN0KFwiZm9ybVwiKSB8fCBkb2N1bWVudDtcblx0XHRsZXQgZGF0YSA9IENvQ3JlYXRlQXBpLmdldEZvcm1EYXRhKGlkLCBhY3Rpb24sICBjb250YWluZXIpO1xuXHRcdENvQ3JlYXRlQXBpLnNlbmQoaWQsIGFjdGlvbiwgZGF0YSk7XG5cdH0sXG5cdFxuXHRcblx0Z2V0Rm9ybURhdGEgOiBmdW5jdGlvbihtX25hbWUsIGFjdGlvbiwgY29udGFpbmVyKXtcblx0XHRjb25zdCBtYWluQXR0ciA9IGBkYXRhLSR7bV9uYW1lfWA7XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cdFx0Y29uc3QgZWxlbWVudHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChgWyR7bWFpbkF0dHJ9Xj1cIiR7YWN0aW9ufS5cIl1gKTtcblxuXHRcdGxldCBkYXRhID0ge31cblx0XHRlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuXHRcdFx0bGV0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShtYWluQXR0cik7XG5cdFx0XHRsZXQgYXJyYXlfbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG1haW5BdHRyICsgXCJfYXJyYXlcIik7XG5cdFx0XHRsZXQgdmFsdWUgPSBzZWxmLl9fZ2V0RWxWYWx1ZShlbGVtZW50KTtcblx0XHRcdFxuXHRcdFx0aWYgKCFuYW1lKSByZXR1cm5cblxuXHRcdFx0aWYgKGFjdGlvbikge1xuXHRcdFx0XHRsZXQgcmUgPSBuZXcgUmVnRXhwKGBeJHthY3Rpb259LmAsICdpJyk7XG5cdFx0XHRcdGlmIChyZS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdFx0bmFtZSA9IG5hbWUucmVwbGFjZShyZSwgXCJcIik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmIChhcnJheV9uYW1lKSB7XG5cdFx0XHRcdGlmICghZGF0YVtuYW1lXSkge1xuXHRcdFx0XHRcdGRhdGFbbmFtZV0gPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhW25hbWVdLnB1c2goc2VsZi5nZXRGb3JtRGF0YShtX25hbWUsIGFycmF5X25hbWUsIGVsZW1lbnQpKTtcblx0XHRcdH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuXHRcdFx0XHRkYXRhW25hbWVdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0XG5cdFx0bGV0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKVxuXHRcdGxldCBvYmplY3REYXRhID0ge307XG5cdFx0a2V5cy5mb3JFYWNoKChrKSA9PiB7XG5cdFx0XHRpZiAoay5zcGxpdCgnLicpLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0bGV0IG5ld0RhdGEgPSBzZWxmLl9fY3JlYXRlT2JqZWN0KGRhdGFba10sIGspO1xuXHRcdFx0XHRkZWxldGUgZGF0YVtrXVxuXHRcdFx0XHRcblx0XHRcdFx0b2JqZWN0RGF0YSA9IHNlbGYuX19tZXJnZU9iamVjdChvYmplY3REYXRhLCBuZXdEYXRhKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9iamVjdERhdGFba10gPSBkYXRhW2tdO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0cmV0dXJuIG9iamVjdERhdGE7XG5cdH0sXG5cdFxuXHRfX2dldEVsVmFsdWU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRsZXQgdmFsdWUgPSBudWxsO1xuXHRcdGlmICh0eXBlb2YgZWxlbWVudC52YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0c3dpdGNoIChlbGVtZW50LnR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKSkge1xuXHRcdFx0XHRjYXNlICdjaGVja2JveCc6XG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQuY2hlY2tlZCkge1xuXHRcdFx0XHRcdFx0dmFsdWUgPSBlbGVtZW50LnZhbHVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHZhbHVlID0gZWxlbWVudC52YWx1ZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcblx0XHRcdGlmICghdmFsdWUpIHtcblx0XHRcdFx0dmFsdWUgPSBlbGVtZW50LmlubmVySFRNTDtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRcblx0X19tZXJnZU9iamVjdDogZnVuY3Rpb24odGFyZ2V0LCBzb3VyY2UpIHtcblx0XHR0YXJnZXQgPSB0YXJnZXQgfHwge307XG5cdFx0Zm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHNvdXJjZSkpIHtcblx0XHRcdGlmIChzb3VyY2Vba2V5XSBpbnN0YW5jZW9mIE9iamVjdCkge1xuXHRcdFx0XHRPYmplY3QuYXNzaWduKHNvdXJjZVtrZXldLCB0aGlzLl9fbWVyZ2VPYmplY3QodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldKSlcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0T2JqZWN0LmFzc2lnbih0YXJnZXQgfHwge30sIHNvdXJjZSlcblx0XHRyZXR1cm4gdGFyZ2V0XG5cdH0sXG5cdFxuXHRfX2NyZWF0ZU9iamVjdDogZnVuY3Rpb24gKGRhdGEsIHBhdGgpIHtcblx0XHRpZiAoIXBhdGgpIHJldHVybiBkYXRhO1xuXHRcdFxuXHRcdGxldCBrZXlzID0gcGF0aC5zcGxpdCgnLicpXG5cdFx0bGV0IG5ld09iamVjdCA9IGRhdGE7XG5cblx0XHRmb3IgKHZhciAgaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdG5ld09iamVjdCA9IHtba2V5c1tpXV06IG5ld09iamVjdH1cdFx0XHRcdFxuXHRcdH1cblx0XHRyZXR1cm4gbmV3T2JqZWN0O1xuXHR9LFxuXHRcblx0c2VuZCA6IGZ1bmN0aW9uKG1vZHVsZSwgYWN0aW9uLCBkYXRhKXsgXG5cdFx0bGV0IHJlcXVlc3RfZGF0YSA9IHRoaXMuZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kKGRhdGEgfHwge30pO1xuXHRcdHJlcXVlc3RfZGF0YSA9IHsuLi5yZXF1ZXN0X2RhdGEsIGRhdGF9O1xuXHRcdHNvY2tldEFwaS5zZW5kKG1vZHVsZSwge3R5cGU6IGFjdGlvbiwgZGF0YTogcmVxdWVzdF9kYXRhfSk7XG5cdH0sXG5cdFxuXHRyZW5kZXI6IGZ1bmN0aW9uKGFjdGlvbiwgZGF0YSkge1xuXHRcdENvQ3JlYXRlUmVuZGVyLmRhdGEoe1xuXHRcdFx0c2VsZWN0b3I6IGBbZGF0YS10ZW1wbGF0ZV9pZD1cIiR7YWN0aW9ufVwiXWAsIFxuXHRcdFx0ZGF0YTogZGF0YVxuXHRcdH0pO1xuXHR9LFxuXHRcblx0Y3JlYXRlQXBpU29ja2V0OiBmdW5jdGlvbihob3N0LCBuYW1lc3BhY2UpIHtcblx0XHRpZiAobmFtZXNwYWNlKSB7XG5cdFx0XHRzb2NrZXRBcGkuY3JlYXRlKHtcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2UsIFxuXHRcdFx0XHRyb29tOiBudWxsLFxuXHRcdFx0XHRob3N0OiBob3N0XG5cdFx0XHR9KTtcblx0XHRcdHNvY2tldEFwaS5zZXRHbG9iYWxTY29wZShuYW1lc3BhY2UpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzb2NrZXRBcGkuY3JlYXRlKHtcblx0XHRcdFx0bmFtZXNwYWNlOiBudWxsLCBcblx0XHRcdFx0cm9vbTogbnVsbCxcblx0XHRcdFx0aG9zdDogaG9zdFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXHRcblx0Z2V0Q29tbW9uUGFyYW1zRXh0ZW5kOiBmdW5jdGlvbihpbmZvKSBcblx0e1xuXHRcdHJldHVybiB7XG5cdFx0XHRcImFwaUtleVwiOiAgICAgICAgICAgaW5mby5hcGlLZXkgfHwgY29uZmlnLmFwaUtleSxcblx0XHRcdFwic2VjdXJpdHlLZXlcIjogICAgICBpbmZvLnNlY3VyaXR5S2V5IHx8IGNvbmZpZy5zZWN1cml0eUtleSxcblx0XHRcdFwib3JnYW5pemF0aW9uX2lkXCI6ICBpbmZvLm9yZ2FuaXphdGlvbl9pZCB8fCBjb25maWcub3JnYW5pemF0aW9uX0lkLFxuXHRcdH1cblx0fVxufVxuXG5Db0NyZWF0ZUFwaS5jcmVhdGVBcGlTb2NrZXQoXG5cdHdpbmRvdy5jb25maWcuaG9zdCA/IHdpbmRvdy5jb25maWcuaG9zdCA6ICdzZXJ2ZXIuY29jcmVhdGUuYXBwJyxcblx0d2luZG93LmNvbmZpZy5vcmdhbml6YXRpb25fSWRcblx0Ly8gd2luZG93LmNvbmZpZy5hcGlLZXlcblx0Ly8gd2luZG93LmNvbmZpZy5zZWN1cml0eUtleVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVBcGk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-api/src/index.js\n')},"../../CoCreate-components/CoCreate-render/src/index.js":(__unused_webpack_module,exports)=>{eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\n/**\n * change name Class\n * add functionality to add value on any attr of each elements into template\n */\nconst CoCreateRender = {\n  __getValueFromObject: function (json, path) {\n    try {\n      if (typeof json == 'undefined' || !path) return false;\n      let jsonData = json,\n          subpath = path.split('.');\n\n      for (let i = 0; i < subpath.length; i++) {\n        jsonData = jsonData[subpath[i]];\n        if (!jsonData) return false;\n      }\n\n      return jsonData;\n    } catch (error) {\n      console.log(\"Error in getValueFromObject\", error);\n      return false;\n    }\n  },\n  __getValue: function (data, attrValue) {\n    let result = /{{\\s*([\\w\\W]+)\\s*}}/g.exec(attrValue);\n\n    if (result) {\n      return this.__getValueFromObject(data, result[1].trim());\n    }\n\n    return false;\n  },\n  __createObject: function (data, path) {\n    try {\n      if (!path) return data;\n      let keys = path.split('.');\n      let newObject = data;\n\n      for (var i = keys.length - 1; i >= 0; i--) {\n        newObject = {\n          [keys[i]]: newObject\n        };\n      }\n\n      return newObject;\n    } catch (error) {\n      console.log(\"Error in getValueFromObject\", error);\n      return false;\n    }\n  },\n  __replaceValue: function (data, inputValue) {\n    let isPass = false;\n    let self = this;\n    let resultValue = null; // let variables = inputValue.match(/{{\\s*(\\S+)\\s*}}/g);\n\n    let variables = inputValue.match(/{{([A-Za-z0-9_.,\\- ]*)}}/g);\n\n    if (variables) {\n      variables.forEach(attr => {\n        let value = self.__getValue(data, attr);\n\n        if (value && typeof value !== \"object\") {\n          isPass = true;\n          inputValue = inputValue.replace(attr, value);\n        }\n      });\n\n      if (isPass) {\n        resultValue = inputValue;\n      }\n    }\n\n    return resultValue;\n  },\n  setArray: function (template, data) {\n    const type = template.getAttribute('data-render_array') || \"data\";\n    const render_key = template.getAttribute('data-render_key') || type;\n    const self = this;\n\n    const arrayData = this.__getValueFromObject(data, type);\n\n    if (type && Array.isArray(arrayData)) {\n      arrayData.forEach((item, index) => {\n        let cloneEl = template.cloneNode(true);\n        cloneEl.classList.remove('template');\n        cloneEl.classList.add('clone_' + type);\n\n        if (typeof item !== 'object') {\n          item = {\n            \"--\": item\n          };\n        } else {\n          item['index'] = index;\n        }\n\n        let r_data = self.__createObject(item, render_key);\n\n        self.setValue([cloneEl], r_data);\n        template.insertAdjacentHTML('beforebegin', cloneEl.outerHTML);\n      });\n    }\n  },\n  setValue: function (els, data, passTo, template) {\n    if (!data) return;\n    const that = this;\n    Array.from(els).forEach(e => {\n      let passId = e.getAttribute('data-pass_id');\n\n      if (passTo && passId != passTo) {\n        return;\n      }\n\n      Array.from(e.attributes).forEach(attr => {\n        let attr_name = attr.name.toLowerCase();\n        let isPass = false;\n        let attrValue = attr.value;\n        attrValue = that.__replaceValue(data, attrValue);\n\n        if (attrValue) {\n          if (attr_name == 'value') {\n            let tag = e.tagName.toLowerCase();\n\n            switch (tag) {\n              case 'input':\n                e.setAttribute(attr_name, attrValue);\n                break;\n\n              case 'textarea':\n                e.setAttribute(attr_name, attrValue);\n                e.textContent = attrValue;\n                break;\n\n              default:\n                if (e.children.length === 0) {\n                  e.innerHTML = attrValue;\n                }\n\n            }\n          }\n\n          e.setAttribute(attr_name, attrValue);\n        }\n      });\n\n      if (e.children.length == 0 && e.textContent) {\n        let textContent = e.textContent;\n        textContent = that.__replaceValue(data, textContent);\n\n        if (textContent) {\n          e.textContent = textContent;\n        }\n      }\n\n      if (e.children.length > 0) {\n        that.setValue(e.children, data);\n\n        if (e.classList.contains('template')) {\n          that.setArray(e, data);\n        }\n      }\n    });\n  },\n  data: function ({\n    selector,\n    data,\n    elements,\n    passTo\n  }) {\n    if (selector) {\n      this.render(selector, data);\n    } else if (elements) {\n      this.setValue(elements, data, passTo);\n    }\n  },\n  render: function (selector, dataResult) {\n    let template_div = document.querySelector(selector);\n\n    if (!template_div) {\n      return;\n    }\n\n    if (Array.isArray(dataResult)) {\n      template_div.setAttribute('data-render_array', 'test');\n      this.setValue([template_div], {\n        test: dataResult\n      });\n    } else {\n      this.setValue(template_div.children, dataResult);\n    }\n  }\n};\nvar _default = CoCreateRender;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5zdHJpcGUvLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1yZW5kZXIvc3JjL2luZGV4LmpzPzdmZDgiXSwibmFtZXMiOlsiQ29DcmVhdGVSZW5kZXIiLCJfX2dldFZhbHVlRnJvbU9iamVjdCIsImpzb24iLCJwYXRoIiwianNvbkRhdGEiLCJzdWJwYXRoIiwic3BsaXQiLCJpIiwibGVuZ3RoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiX19nZXRWYWx1ZSIsImRhdGEiLCJhdHRyVmFsdWUiLCJyZXN1bHQiLCJleGVjIiwidHJpbSIsIl9fY3JlYXRlT2JqZWN0Iiwia2V5cyIsIm5ld09iamVjdCIsIl9fcmVwbGFjZVZhbHVlIiwiaW5wdXRWYWx1ZSIsImlzUGFzcyIsInNlbGYiLCJyZXN1bHRWYWx1ZSIsInZhcmlhYmxlcyIsIm1hdGNoIiwiZm9yRWFjaCIsImF0dHIiLCJ2YWx1ZSIsInJlcGxhY2UiLCJzZXRBcnJheSIsInRlbXBsYXRlIiwidHlwZSIsImdldEF0dHJpYnV0ZSIsInJlbmRlcl9rZXkiLCJhcnJheURhdGEiLCJBcnJheSIsImlzQXJyYXkiLCJpdGVtIiwiaW5kZXgiLCJjbG9uZUVsIiwiY2xvbmVOb2RlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwicl9kYXRhIiwic2V0VmFsdWUiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJvdXRlckhUTUwiLCJlbHMiLCJwYXNzVG8iLCJ0aGF0IiwiZnJvbSIsImUiLCJwYXNzSWQiLCJhdHRyaWJ1dGVzIiwiYXR0cl9uYW1lIiwibmFtZSIsInRvTG93ZXJDYXNlIiwidGFnIiwidGFnTmFtZSIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiY2hpbGRyZW4iLCJpbm5lckhUTUwiLCJjb250YWlucyIsInNlbGVjdG9yIiwiZWxlbWVudHMiLCJyZW5kZXIiLCJkYXRhUmVzdWx0IiwidGVtcGxhdGVfZGl2IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9y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QVlGLFFBQVosRUFBc0J2RCxJQUF0QjtBQUNBLEtBRkQsTUFFTyxJQUFJd0QsUUFBSixFQUFjO0FBQ3BCLFdBQUtyQixRQUFMLENBQWNxQixRQUFkLEVBQXdCeEQsSUFBeEIsRUFBOEJ1QyxNQUE5QjtBQUNBO0FBQ0QsR0ExSnFCO0FBNEp0QmtCLFFBQU0sRUFBRyxVQUFTRixRQUFULEVBQW1CRyxVQUFuQixFQUErQjtBQUN2QyxRQUFJQyxZQUFZLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1Qk4sUUFBdkIsQ0FBbkI7O0FBQ0EsUUFBSSxDQUFDSSxZQUFMLEVBQW1CO0FBQ2xCO0FBQ0E7O0FBQ0QsUUFBSWxDLEtBQUssQ0FBQ0MsT0FBTixDQUFjZ0MsVUFBZCxDQUFKLEVBQStCO0FBQzlCQyxrQkFBWSxDQUFDVCxZQUFiLENBQTBCLG1CQUExQixFQUErQyxNQUEvQztBQUNBLFdBQUtmLFFBQUwsQ0FBYyxDQUFDd0IsWUFBRCxDQUFkLEVBQThCO0FBQUNHLFlBQUksRUFBRUo7QUFBUCxPQUE5QjtBQUNBLEtBSEQsTUFHTztBQUNOLFdBQUt2QixRQUFMLENBQWN3QixZQUFZLENBQUNQLFFBQTNCLEVBQXFDTSxVQUFyQztBQUNBO0FBQ0Q7QUF2S3FCLENBQXZCO2VBMEtldkUsYyIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLXJlbmRlci9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGNoYW5nZSBuYW1lIENsYXNzXG4gKiBhZGQgZnVuY3Rpb25hbGl0eSB0byBhZGQgdmFsdWUgb24gYW55IGF0dHIgb2YgZWFjaCBlbGVtZW50cyBpbnRvIHRlbXBsYXRlXG4gKi9cbmNvbnN0IENvQ3JlYXRlUmVuZGVyID0ge1xuXG5cdF9fZ2V0VmFsdWVGcm9tT2JqZWN0IDogZnVuY3Rpb24oanNvbiwgcGF0aCkge1xuXHRcdHRyeSB7XG5cdFx0XHRpZih0eXBlb2YganNvbiA9PSAndW5kZWZpbmVkJyB8fCAhcGF0aClcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0bGV0IGpzb25EYXRhID0ganNvbiwgc3VicGF0aCA9IHBhdGguc3BsaXQoJy4nKTtcblx0XHRcdFxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdWJwYXRoLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGpzb25EYXRhID0ganNvbkRhdGFbc3VicGF0aFtpXV07XG5cdFx0XHRcdGlmICghanNvbkRhdGEpIHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBqc29uRGF0YTtcblx0XHR9Y2F0Y2goZXJyb3Ipe1xuXHRcdFx0Y29uc29sZS5sb2coXCJFcnJvciBpbiBnZXRWYWx1ZUZyb21PYmplY3RcIiwgZXJyb3IpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fSxcblx0XG5cdF9fZ2V0VmFsdWU6IGZ1bmN0aW9uKGRhdGEsIGF0dHJWYWx1ZSkge1xuXHRcdGxldCByZXN1bHQgPSAve3tcXHMqKFtcXHdcXFddKylcXHMqfX0vZy5leGVjKGF0dHJWYWx1ZSk7XG5cdFx0aWYgKHJlc3VsdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX19nZXRWYWx1ZUZyb21PYmplY3QoZGF0YSwgcmVzdWx0WzFdLnRyaW0oKSk7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0XHRcblx0fSxcblx0XG5cdF9fY3JlYXRlT2JqZWN0OiBmdW5jdGlvbiAoZGF0YSwgcGF0aCkge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIXBhdGgpIHJldHVybiBkYXRhO1xuXHRcdFx0XG5cdFx0XHRsZXQga2V5cyA9IHBhdGguc3BsaXQoJy4nKVxuXHRcdFx0bGV0IG5ld09iamVjdCA9IGRhdGE7XG5cblx0XHRcdGZvciAodmFyICBpID0ga2V5cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRuZXdPYmplY3QgPSB7W2tleXNbaV1dOiBuZXdPYmplY3R9XHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdHJldHVybiBuZXdPYmplY3Q7XG5cdFx0XHRcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5sb2coXCJFcnJvciBpbiBnZXRWYWx1ZUZyb21PYmplY3RcIiwgZXJyb3IpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fSxcblx0XG5cdF9fcmVwbGFjZVZhbHVlOiBmdW5jdGlvbihkYXRhLCBpbnB1dFZhbHVlKSB7XG5cdFx0bGV0IGlzUGFzcyA9IGZhbHNlO1xuXHRcdGxldCBzZWxmID0gdGhpcztcblx0XHRsZXQgcmVzdWx0VmFsdWUgPSBudWxsO1xuXHRcdC8vIGxldCB2YXJpYWJsZXMgPSBpbnB1dFZhbHVlLm1hdGNoKC97e1xccyooXFxTKylcXHMqfX0vZyk7XG5cdFx0bGV0IHZhcmlhYmxlcyA9IGlucHV0VmFsdWUubWF0Y2goL3t7KFtBLVphLXowLTlfLixcXC0gXSopfX0vZyk7XG5cdFx0aWYgKHZhcmlhYmxlcykge1xuXHRcdFx0dmFyaWFibGVzLmZvckVhY2goKGF0dHIpID0+IHtcblx0XHRcdFx0bGV0IHZhbHVlID0gc2VsZi5fX2dldFZhbHVlKGRhdGEsIGF0dHIpXG5cdFx0XHRcdGlmICh2YWx1ZSAmJiB0eXBlb2YodmFsdWUpICE9PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRcdFx0aXNQYXNzID0gdHJ1ZTtcblx0XHRcdFx0XHRpbnB1dFZhbHVlID0gaW5wdXRWYWx1ZS5yZXBsYWNlKGF0dHIsIHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdFxuXHRcdFx0aWYgKGlzUGFzcykge1xuXHRcdFx0XHRyZXN1bHRWYWx1ZSA9IGlucHV0VmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHRWYWx1ZTtcblx0fSxcblx0XG5cdHNldEFycmF5OiBmdW5jdGlvbih0ZW1wbGF0ZSwgZGF0YSkge1xuXHRcdGNvbnN0IHR5cGUgPSB0ZW1wbGF0ZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVuZGVyX2FycmF5JykgfHwgXCJkYXRhXCI7XG5cdFx0Y29uc3QgcmVuZGVyX2tleSA9IHRlbXBsYXRlLmdldEF0dHJpYnV0ZSgnZGF0YS1yZW5kZXJfa2V5JykgfHwgdHlwZTtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRjb25zdCBhcnJheURhdGEgPSB0aGlzLl9fZ2V0VmFsdWVGcm9tT2JqZWN0KGRhdGEsIHR5cGUpO1xuXG5cdFx0aWYgKHR5cGUgJiYgQXJyYXkuaXNBcnJheShhcnJheURhdGEpKSB7XG5cdFx0XHRhcnJheURhdGEuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcblx0XHRcdFx0XG5cdFx0XHRcdGxldCBjbG9uZUVsID0gdGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuXHRcdFx0XHRjbG9uZUVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RlbXBsYXRlJyk7XG5cdFx0XHRcdGNsb25lRWwuY2xhc3NMaXN0LmFkZCgnY2xvbmVfJyArIHR5cGUpO1xuXHRcdFx0XHRpZiAodHlwZW9mIGl0ZW0gIT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0aXRlbSA9IHtcIi0tXCI6IGl0ZW19O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGl0ZW1bJ2luZGV4J10gPSBpbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0XHRsZXQgcl9kYXRhID0gc2VsZi5fX2NyZWF0ZU9iamVjdChpdGVtLCByZW5kZXJfa2V5KTtcblxuXHRcdFx0XHRzZWxmLnNldFZhbHVlKFtjbG9uZUVsXSwgcl9kYXRhKTtcblx0XHRcdFx0dGVtcGxhdGUuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGNsb25lRWwub3V0ZXJIVE1MKTtcblx0XHRcdH0pXG5cdFx0fVxuXHR9LFxuIFxuXHRzZXRWYWx1ZTpmdW5jdGlvbihlbHMsIGRhdGEsIHBhc3NUbywgdGVtcGxhdGUpe1xuXHRcdGlmICghZGF0YSkgcmV0dXJuO1xuXHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xuXHRcdEFycmF5LmZyb20oZWxzKS5mb3JFYWNoKGUgPT4ge1xuXHRcdFx0bGV0IHBhc3NJZCA9IGUuZ2V0QXR0cmlidXRlKCdkYXRhLXBhc3NfaWQnKTtcblx0XHRcdGlmIChwYXNzVG8gJiYgcGFzc0lkICE9IHBhc3NUbykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRBcnJheS5mcm9tKGUuYXR0cmlidXRlcykuZm9yRWFjaChhdHRyPT57XG5cdFx0XHRcdGxldCBhdHRyX25hbWUgPSBhdHRyLm5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0bGV0ICBpc1Bhc3MgPSBmYWxzZTtcblx0XHRcdFx0bGV0IGF0dHJWYWx1ZSA9IGF0dHIudmFsdWU7XG5cdFx0XHRcdGF0dHJWYWx1ZSA9IHRoYXQuX19yZXBsYWNlVmFsdWUoZGF0YSwgYXR0clZhbHVlKTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChhdHRyVmFsdWUpIHtcblx0XHRcdFx0XHRpZihhdHRyX25hbWUgPT0gJ3ZhbHVlJyl7XG5cdFx0XHRcdFx0XHRsZXQgdGFnID0gZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0XHRzd2l0Y2ggKHRhZykge1xuXHRcdFx0XHRcdFx0XHRjYXNlICdpbnB1dCc6XG5cdFx0XHRcdFx0XHRcdFx0IGUuc2V0QXR0cmlidXRlKGF0dHJfbmFtZSwgYXR0clZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSAndGV4dGFyZWEnOlxuXHRcdFx0XHRcdFx0XHRcdGUuc2V0QXR0cmlidXRlKGF0dHJfbmFtZSwgYXR0clZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRlLnRleHRDb250ZW50ID0gYXR0clZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRcdGlmIChlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZS5pbm5lckhUTUwgPSAgYXR0clZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZS5zZXRBdHRyaWJ1dGUoYXR0cl9uYW1lLCBhdHRyVmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0aWYgKGUuY2hpbGRyZW4ubGVuZ3RoID09IDAgJiYgZS50ZXh0Q29udGVudCkge1xuXHRcdFx0XHRsZXQgdGV4dENvbnRlbnQgPSBlLnRleHRDb250ZW50O1xuXHRcdFx0XHR0ZXh0Q29udGVudCA9IHRoYXQuX19yZXBsYWNlVmFsdWUoZGF0YSwgdGV4dENvbnRlbnQpO1xuXHRcdFx0XHRpZiAodGV4dENvbnRlbnQpIHtcblx0XHRcdFx0XHRlLnRleHRDb250ZW50ID0gdGV4dENvbnRlbnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0XG5cdFx0XHRcblx0XHRcdGlmKGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuXHRcdFx0XHR0aGF0LnNldFZhbHVlKGUuY2hpbGRyZW4sIGRhdGEpXG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAoZS5jbGFzc0xpc3QuY29udGFpbnMoJ3RlbXBsYXRlJykpIHtcblx0XHRcdFx0XHR0aGF0LnNldEFycmF5KGUsIGRhdGEpO1xuXHRcdFx0XHR9IFxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXHRcblx0ZGF0YTogZnVuY3Rpb24oe3NlbGVjdG9yLCBkYXRhLCBlbGVtZW50cywgcGFzc1RvfSkge1xuXHRcdGlmIChzZWxlY3Rvcikge1xuXHRcdFx0dGhpcy5yZW5kZXIoc2VsZWN0b3IsIGRhdGEpO1xuXHRcdH0gZWxzZSBpZiAoZWxlbWVudHMpIHtcblx0XHRcdHRoaXMuc2V0VmFsdWUoZWxlbWVudHMsIGRhdGEsIHBhc3NUbyk7XG5cdFx0fVxuXHR9LFxuXHRcblx0cmVuZGVyIDogZnVuY3Rpb24oc2VsZWN0b3IsIGRhdGFSZXN1bHQpIHtcblx0XHRsZXQgdGVtcGxhdGVfZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcilcblx0XHRpZiAoIXRlbXBsYXRlX2Rpdikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoQXJyYXkuaXNBcnJheShkYXRhUmVzdWx0KSkge1xuXHRcdFx0dGVtcGxhdGVfZGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1yZW5kZXJfYXJyYXknLCAndGVzdCcpO1xuXHRcdFx0dGhpcy5zZXRWYWx1ZShbdGVtcGxhdGVfZGl2XSwge3Rlc3Q6IGRhdGFSZXN1bHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zZXRWYWx1ZSh0ZW1wbGF0ZV9kaXYuY2hpbGRyZW4sIGRhdGFSZXN1bHQpO1xuXHRcdH1cblx0fVxuXG59XG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZVJlbmRlcjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-render/src/index.js\n")},"../../CoCreate-components/CoCreate-socket-client/src/index.js":(module,exports)=>{eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n(function (root, factory) {\n  if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n      return factory(window, WebSocket, Blob);\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n})(typeof self !== 'undefined' ? self : void 0, function (wnd, WebSocket, Blob) {\n  class CoCreateSocketClient {\n    constructor(prefix = \"crud\") {\n      this.prefix = prefix || \"crud\";\n      this.sockets = new Map();\n      this.listeners = new Map();\n      this.messageQueue = new Map();\n      this.saveFileName = '';\n      this.globalScope = \"\";\n    }\n\n    setGlobalScope(scope) {\n      this.globalScope = `${this.prefix}/${scope}`;\n    }\n\n    getGlobalScope() {\n      return this.globalScope;\n    }\n    /**\n     * config: {namespace, room, host}\n     */\n\n\n    create(config) {\n      const {\n        namespace,\n        room\n      } = config;\n      const key = this.getKey(namespace, room);\n\n      let _this = this;\n\n      let socket;\n\n      if (this.sockets.get(key)) {\n        socket = this.sockets.get(key);\n        console.log('SOcket already has been register');\n        return;\n      }\n\n      let w_protocol = wnd.location.protocol;\n\n      if (wnd.location.protocol === \"about:\") {\n        w_protocol = wnd.parent.location.protocol;\n      }\n\n      let protocol = w_protocol === 'http:' ? 'ws' : 'wss';\n      const port = config.port ? config.port : 8088;\n      let socket_url = `${protocol}://${wnd.location.host}:${port}/${key}`;\n\n      if (config.host) {\n        if (config.host.includes(\"://\")) {\n          socket_url = `${config.host}/${key}`;\n        } else {\n          if (config.host.includes(\":\")) {\n            socket_url = `${protocol}://${config.host}/${key}`;\n          } else {\n            socket_url = `${protocol}://${config.host}:${port}/${key}`;\n          }\n        }\n      }\n\n      try {\n        socket = new WebSocket(socket_url);\n      } catch (error) {\n        console.log(error);\n      }\n\n      socket.onopen = function (event) {\n        const messages = _this.messageQueue.get(key) || [];\n        messages.forEach(msg => socket.send(JSON.stringify(msg)));\n\n        _this.sockets.set(key, socket);\n\n        _this.messageQueue.set(key, []);\n      };\n\n      socket.onclose = function (event) {\n        switch (event.code) {\n          case 1000:\n            // close normal\n            console.log(\"websocket: closed\");\n            break;\n\n          default:\n            _this.destroy(socket, key);\n\n            _this.reconnect(socket, config);\n\n            break;\n        }\n      };\n\n      socket.onerror = function (err) {\n        console.log('Socket error');\n\n        _this.destroy(socket, key);\n\n        _this.reconnect(socket, config);\n      };\n\n      socket.onmessage = function (data) {\n        try {\n          if (wnd.Blob) {\n            if (data.data instanceof Blob) {\n              _this.saveFile(data.data);\n\n              return;\n            }\n          }\n\n          let rev_data = JSON.parse(data.data);\n\n          if (rev_data.data.event) {\n            if (wnd.CustomEvent) {\n              var event = new wnd.CustomEvent(rev_data.data.event, {\n                detail: rev_data.data\n              });\n              wnd.document.dispatchEvent(event);\n              return;\n            } else {\n              process.emit(rev_data.data.event, rev_data.data);\n              return;\n            }\n          }\n\n          let action = rev_data.action;\n\n          const listeners = _this.listeners.get(rev_data.action);\n\n          if (!listeners) {\n            return;\n          }\n\n          listeners.forEach(listener => {\n            listener(rev_data.data, key);\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      };\n    }\n    /**\n     * \n     */\n\n\n    send(action, data, room) {\n      const obj = {\n        action: action,\n        data: data\n      };\n      const key = this.getKeyByRoom(room);\n      const socket = this.getByRoom(room);\n\n      if (socket) {\n        socket.send(JSON.stringify(obj));\n      } else {\n        if (this.messageQueue.get(key)) {\n          this.messageQueue.get(key).push(obj);\n        } else {\n          this.messageQueue.set(key, [obj]);\n        }\n      }\n    }\n\n    sendFile(file, room) {\n      const socket = this.getByRoom(room);\n\n      if (socket) {\n        socket.send(file);\n      }\n    }\n    /**\n     * scope: ns/room\n     */\n\n\n    listen(type, callback) {\n      if (!this.listeners.get(type)) {\n        this.listeners.set(type, [callback]);\n      } else {\n        this.listeners.get(type).push(callback);\n      }\n    }\n\n    reconnect(socket, config) {\n      let _this = this;\n\n      setTimeout(function () {\n        _this.create(config);\n      }, 1000);\n    }\n\n    destroy(socket, key) {\n      if (socket) {\n        socket.onerror = socket.onopen = socket.onclose = null;\n        socket.close();\n        socket = null;\n      }\n\n      if (this.sockets.get(key)) {\n        this.sockets.delete(key);\n      }\n    }\n\n    destroyByKey(key) {\n      let socket = this.sockets.get(key);\n\n      if (socket) {\n        this.destroy(socket, key);\n      }\n    }\n\n    getKey(namespace, room) {\n      let key = `${this.prefix}`;\n\n      if (namespace && namespace != '') {\n        if (room && room != '') {\n          key += `/${namespace}/${room}`;\n        } else {\n          key += `/${namespace}`;\n        }\n      }\n\n      return key;\n    }\n\n    getByRoom(room) {\n      let key = this.getKeyByRoom(room);\n      return this.sockets.get(key);\n    }\n\n    getKeyByRoom(room) {\n      let key = this.globalScope;\n\n      if (room) {\n        key = `${this.prefix}/${room}`;\n      }\n\n      return key;\n    }\n\n    saveFile(blob) {\n      if (wnd.document) {\n        const file_name = this.saveFileName || 'downloadFile';\n        var a = wnd.document.createElement(\"a\");\n        wnd.document.body.appendChild(a);\n        a.style = \"display: none\";\n        let url = window.URL.createObjectURL(blob);\n        a.href = url;\n        a.download = file_name;\n        a.click();\n        wnd.URL.revokeObjectURL(url);\n        this.saveFileName = '';\n      }\n    }\n\n    listenAsync(eventname) {\n      return new Promise((resolve, reject) => {\n        if (wnd.document) {\n          //. browser case\n          wnd.document.addEventListener(eventname, function (event) {\n            resolve(event.detail);\n          }, {\n            once: true\n          });\n        } else {\n          //. node case\n          process.once(eventname, data => {\n            resolve(data);\n          });\n        }\n      });\n    }\n\n  }\n\n  return CoCreateSocketClient;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5zdHJpcGUvLi4vQ29DcmVhdGUtY29tcG9uZW50cy9Db0NyZWF0ZS1zb2NrZXQtY2xpZW50L3NyYy9pbmRleC5qcz83YWU5Il0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZGVmaW5lIiwid2luZG93IiwiV2ViU29ja2V0IiwiQmxvYiIsInNlbGYiLCJ3bmQiLCJDb0NyZWF0ZVNvY2tldENsaWVudCIsImNvbnN0cnVjdG9yIiwicHJlZml4Iiwic29ja2V0cyIsIk1hcCIsImxpc3RlbmVycyIsIm1lc3NhZ2VRdWV1ZSIsInNhdmVGaWxlTmFtZSIsImdsb2JhbFNjb3BlIiwic2V0R2xvYmFsU2NvcGUiLCJzY29wZSIsImdldEdsb2JhbFNjb3BlIiwiY3JlYXRlIiwiY29uZmlnIiwibmFtZXNwYWNlIiwicm9vbSIsImtleSIsImdldEtleSIsIl90aGlzIiwic29ja2V0IiwiZ2V0IiwiY29uc29sZSIsImxvZyIsIndfcHJvdG9jb2wiLCJsb2NhdGlvbiIsInByb3RvY29sIiwicGFyZW50IiwicG9ydCIsInNvY2tldF91cmwiLCJob3N0IiwiaW5jbHVkZXMiLCJlcnJvciIsIm9ub3BlbiIsImV2ZW50IiwibWVzc2FnZXMiLCJmb3JFYWNoIiwibXNnIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXQiLCJvbmNsb3NlIiwiY29kZSIsImRlc3Ryb3kiLCJyZWNvbm5lY3QiLCJvbmVycm9yIiwiZXJyIiwib25tZXNzYWdlIiwiZGF0YSIsInNhdmVGaWxlIiwicmV2X2RhdGEiLCJwYXJzZSIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiZG9jdW1lbnQiLCJkaXNwYXRjaEV2ZW50IiwicHJvY2VzcyIsImVtaXQiLCJhY3Rpb24iLCJsaXN0ZW5lciIsImUiLCJvYmoiLCJnZXRLZXlCeVJvb20iLCJnZXRCeVJvb20iLCJwdXNoIiwic2VuZEZpbGUiLCJmaWxlIiwibGlzdGVuIiwidHlwZSIsImNhbGxiYWNrIiwic2V0VGltZW91dCIsImNsb3NlIiwiZGVsZXRlIiwiZGVzdHJveUJ5S2V5IiwiYmxvYiIsImZpbGVfbmFtZSIsImEiLCJjcmVhdGVFbGVtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwic3R5bGUiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJocmVmIiwiZG93bmxvYWQiLCJjbGljayIsInJldm9rZU9iamVjdFVSTCIsImxpc3RlbkFzeW5jIiwiZXZlbnRuYW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSJdLCJtYXBwaW5ncyI6Ijs7QUFDQyxXQUFVQSxJQUFWLEVBQWdCQyxPQUFoQixFQUF5QjtBQUN0QixNQUFJLElBQUosRUFBZ0Q7QUFDNUM7QUFDQUMscUNBQU8sRUFBRCxtQ0FBSyxZQUFXO0FBQ3JCLGFBQU9ELE9BQU8sQ0FBQ0UsTUFBRCxFQUFTQyxTQUFULEVBQW9CQyxJQUFwQixDQUFkO0FBQ0EsS0FGSztBQUFBLGtHQUFOO0FBR0gsR0FMRCxNQUtPLEVBY1I7QUFDRixDQXJCQSxFQXFCQyxPQUFPQyxJQUFQLEtBQWdCLFdBQWhCLEdBQThCQSxJQUE5QixTQXJCRCxFQXFCNEMsVUFBVUMsR0FBVixFQUFlSCxTQUFmLEVBQTBCQyxJQUExQixFQUFnQztBQUV6RSxRQUFNRyxvQkFBTixDQUNIO0FBQ0NDLGVBQVcsQ0FBQ0MsTUFBTSxHQUFHLE1BQVYsRUFBa0I7QUFDNUIsV0FBS0EsTUFBTCxHQUFjQSxNQUFNLElBQUksTUFBeEI7QUFDQSxXQUFLQyxPQUFMLEdBQWUsSUFBSUMsR0FBSixFQUFmO0FBQ0EsV0FBS0MsU0FBTCxHQUFpQixJQUFJRCxHQUFKLEVBQWpCO0FBQ0EsV0FBS0UsWUFBTCxHQUFxQixJQUFJRixHQUFKLEVBQXJCO0FBQ0EsV0FBS0csWUFBTCxHQUFxQixFQUFyQjtBQUNBLFdBQUtDLFdBQUwsR0FBb0IsRUFBcEI7QUFDQTs7QUFFREMsa0JBQWMsQ0FBQ0MsS0FBRCxFQUFRO0FBQ3JCLFdBQUtGLFdBQUwsR0FBb0IsR0FB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LGlCQUFPLENBQUNzQyxJQUFSLENBQWFMLFNBQWIsRUFBeUJ6QyxJQUFELElBQVU7QUFDakMyQyxtQkFBTyxDQUFDM0MsSUFBRCxDQUFQO0FBQ0EsV0FGRDtBQUdBO0FBQ0QsT0FWTSxDQUFQO0FBV0E7O0FBdFBGOztBQXdQRyxTQUFPaEQsb0JBQVA7QUFDSCxDQWpSQSxDQUFEIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtc29ja2V0LWNsaWVudC9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgICAgICBcdHJldHVybiBmYWN0b3J5KHdpbmRvdywgV2ViU29ja2V0LCBCbG9iKVxuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAgICAgLy8gbGlrZSBOb2RlLlxuICAgICAgICBsZXQgd25kT2JqID0ge1xuICAgICAgICBcdGxvY2F0aW9uOiB7XG4gICAgICAgIFx0XHRwcm90b2NvbDogXCJcIlxuICAgICAgICBcdH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3cyA9IHJlcXVpcmUoXCJ3c1wiKVxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3Rvcnkod25kT2JqLCB3cywgbnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5yZXR1cm5FeHBvcnRzID0gZmFjdG9yeSh3aW5kb3csIFdlYlNvY2tldCwgQmxvYik7XG4gIH1cbn0odHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uICh3bmQsIFdlYlNvY2tldCwgQmxvYikge1xuXG4gICAgY2xhc3MgQ29DcmVhdGVTb2NrZXRDbGllbnRcblx0e1xuXHRcdGNvbnN0cnVjdG9yKHByZWZpeCA9IFwiY3J1ZFwiKSB7XG5cdFx0XHR0aGlzLnByZWZpeCA9IHByZWZpeCB8fCBcImNydWRcIjtcblx0XHRcdHRoaXMuc29ja2V0cyA9IG5ldyBNYXAoKTtcblx0XHRcdHRoaXMubGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuXHRcdFx0dGhpcy5tZXNzYWdlUXVldWUgPSAgbmV3IE1hcCgpO1xuXHRcdFx0dGhpcy5zYXZlRmlsZU5hbWUgPSAgJyc7XG5cdFx0XHR0aGlzLmdsb2JhbFNjb3BlID0gIFwiXCI7XG5cdFx0fVxuXHRcblx0XHRzZXRHbG9iYWxTY29wZShzY29wZSkge1xuXHRcdFx0dGhpcy5nbG9iYWxTY29wZSA9IGAke3RoaXMucHJlZml4fS8ke3Njb3BlfWA7XG5cdFx0fVxuXHRcdFxuXHRcdGdldEdsb2JhbFNjb3BlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZ2xvYmFsU2NvcGU7XG5cdFx0fVxuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIGNvbmZpZzoge25hbWVzcGFjZSwgcm9vbSwgaG9zdH1cblx0XHQgKi9cblx0XHRjcmVhdGUgKGNvbmZpZykge1xuXHRcdFx0XG5cdFx0XHRjb25zdCB7bmFtZXNwYWNlLCByb29tfSA9IGNvbmZpZztcblx0XHRcdGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KG5hbWVzcGFjZSwgcm9vbSk7XG5cdFx0XHRsZXQgX3RoaXMgPSB0aGlzO1xuXHRcdFx0XG5cdFx0XHRsZXQgc29ja2V0O1xuXHRcdFx0aWYgKHRoaXMuc29ja2V0cy5nZXQoa2V5KSkge1xuXHRcdFx0XHRzb2NrZXQgPSB0aGlzLnNvY2tldHMuZ2V0KGtleSk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdTT2NrZXQgYWxyZWFkeSBoYXMgYmVlbiByZWdpc3RlcicpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGxldCB3X3Byb3RvY29sID0gd25kLmxvY2F0aW9uLnByb3RvY29sO1x0XHRcblx0XHRcdGlmICh3bmQubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiYWJvdXQ6XCIpIHtcblx0XHRcdFx0d19wcm90b2NvbCA9IHduZC5wYXJlbnQubG9jYXRpb24ucHJvdG9jb2w7XG5cdFx0XHR9XG5cdFx0XHRsZXQgcHJvdG9jb2wgPSB3X3Byb3RvY29sID09PSAnaHR0cDonID8gJ3dzJyA6ICd3c3MnO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBwb3J0ID0gY29uZmlnLnBvcnQgPyBjb25maWcucG9ydCA6IDgwODg7XG5cdFx0XHRcblx0XHRcdGxldCBzb2NrZXRfdXJsID0gYCR7cHJvdG9jb2x9Oi8vJHt3bmQubG9jYXRpb24uaG9zdH06JHtwb3J0fS8ke2tleX1gO1xuXHRcdFx0XG5cdFx0XHRpZiAoY29uZmlnLmhvc3QpIHtcblx0XHRcdFx0aWYgKGNvbmZpZy5ob3N0LmluY2x1ZGVzKFwiOi8vXCIpKSB7XG5cdFx0XHRcdFx0c29ja2V0X3VybCA9IGAke2NvbmZpZy5ob3N0fS8ke2tleX1gO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChjb25maWcuaG9zdC5pbmNsdWRlcyhcIjpcIikpIHtcblx0XHRcdFx0XHRcdHNvY2tldF91cmwgPSBgJHtwcm90b2NvbH06Ly8ke2NvbmZpZy5ob3N0fS8ke2tleX1gO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzb2NrZXRfdXJsID0gYCR7cHJvdG9jb2x9Oi8vJHtjb25maWcuaG9zdH06JHtwb3J0fS8ke2tleX1gO1x0XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHNvY2tldF91cmwpO1xuXHRcdFx0fSBjYXRjaChlcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcilcblx0XHRcdH1cblxuXHRcdFx0c29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdGNvbnN0IG1lc3NhZ2VzID0gX3RoaXMubWVzc2FnZVF1ZXVlLmdldChrZXkpIHx8IFtdO1xuXHRcdFx0XHRtZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShtc2cpKSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRfdGhpcy5zb2NrZXRzLnNldChrZXksIHNvY2tldCk7XG5cdFx0XHRcdF90aGlzLm1lc3NhZ2VRdWV1ZS5zZXQoa2V5LCBbXSk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0c3dpdGNoKGV2ZW50LmNvZGUpIHtcblx0XHRcdFx0XHRjYXNlIDEwMDA6IC8vIGNsb3NlIG5vcm1hbFxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJ3ZWJzb2NrZXQ6IGNsb3NlZFwiKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6IFxuXHRcdFx0XHRcdFx0X3RoaXMuZGVzdHJveShzb2NrZXQsIGtleSk7XG5cdFx0XHRcdFx0XHRfdGhpcy5yZWNvbm5lY3Qoc29ja2V0LCBjb25maWcpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0c29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbihlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ1NvY2tldCBlcnJvcicpO1xuXHRcdFx0XHRfdGhpcy5kZXN0cm95KHNvY2tldCwga2V5KTtcblx0XHRcdFx0X3RoaXMucmVjb25uZWN0KHNvY2tldCwgY29uZmlnKTtcblx0XHRcdH1cblx0XG5cdFx0XHRzb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGlmICh3bmQuQmxvYikge1xuXHRcdFx0XHRcdFx0aWYgKGRhdGEuZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcblx0XHRcdFx0XHRcdFx0X3RoaXMuc2F2ZUZpbGUoZGF0YS5kYXRhKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRsZXQgcmV2X2RhdGEgPSBKU09OLnBhcnNlKGRhdGEuZGF0YSk7XG5cblx0XHRcdFx0XHRpZiAocmV2X2RhdGEuZGF0YS5ldmVudCkge1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRpZiAod25kLkN1c3RvbUV2ZW50KSB7XG5cdFx0XHRcdFx0XHRcdHZhciBldmVudCA9IG5ldyB3bmQuQ3VzdG9tRXZlbnQocmV2X2RhdGEuZGF0YS5ldmVudCwge1xuXHRcdFx0XHRcdFx0XHRcdGRldGFpbDogcmV2X2RhdGEuZGF0YVxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHR3bmQuZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHByb2Nlc3MuZW1pdChyZXZfZGF0YS5kYXRhLmV2ZW50LCByZXZfZGF0YS5kYXRhKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGV0IGFjdGlvbiA9IHJldl9kYXRhLmFjdGlvbjtcblx0XHRcdFx0XHRjb25zdCBsaXN0ZW5lcnMgPSBfdGhpcy5saXN0ZW5lcnMuZ2V0KHJldl9kYXRhLmFjdGlvbik7XG5cdFx0XHRcdFx0aWYgKCFsaXN0ZW5lcnMpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXIocmV2X2RhdGEuZGF0YSwga2V5KTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogXG5cdFx0ICovXG5cdFx0c2VuZCAoYWN0aW9uLCBkYXRhLCByb29tKSB7XG5cdFx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRcdGFjdGlvbjogYWN0aW9uLFxuXHRcdFx0XHRkYXRhOiBkYXRhXG5cdFx0XHR9XG5cdFx0XHRjb25zdCBrZXkgPSB0aGlzLmdldEtleUJ5Um9vbShyb29tKTtcblx0XHRcdGNvbnN0IHNvY2tldCA9IHRoaXMuZ2V0QnlSb29tKHJvb20pO1xuXG5cdFx0XHRpZiAoc29ja2V0KSB7XG5cdFx0XHRcdHNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KG9iaikpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHRoaXMubWVzc2FnZVF1ZXVlLmdldChrZXkpKSB7XG5cdFx0XHRcdFx0dGhpcy5tZXNzYWdlUXVldWUuZ2V0KGtleSkucHVzaChvYmopO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMubWVzc2FnZVF1ZXVlLnNldChrZXksIFtvYmpdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRzZW5kRmlsZSAoZmlsZSwgcm9vbSkge1xuXHRcdFx0Y29uc3Qgc29ja2V0ID0gdGhpcy5nZXRCeVJvb20ocm9vbSk7XG5cdFx0XHRpZiAoc29ja2V0KSB7XG5cdFx0XHRcdHNvY2tldC5zZW5kKGZpbGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0LyoqXG5cdFx0ICogc2NvcGU6IG5zL3Jvb21cblx0XHQgKi9cblx0XHRsaXN0ZW4odHlwZSwgY2FsbGJhY2spIHtcblx0XHRcdGlmICghdGhpcy5saXN0ZW5lcnMuZ2V0KHR5cGUpKSB7XG5cdFx0XHRcdHRoaXMubGlzdGVuZXJzLnNldCh0eXBlLCBbY2FsbGJhY2tdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMubGlzdGVuZXJzLmdldCh0eXBlKS5wdXNoKGNhbGxiYWNrKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0cmVjb25uZWN0KHNvY2tldCwgY29uZmlnKSB7XG5cdFx0XHRsZXQgX3RoaXMgPSB0aGlzO1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0X3RoaXMuY3JlYXRlKGNvbmZpZyk7XG5cdFx0XHR9LCAxMDAwKVxuXHRcdH1cblx0XHRcblx0XHRkZXN0cm95KHNvY2tldCwga2V5KSB7XG5cdFx0XHRpZiAoc29ja2V0KSB7XG5cdFx0XHRcdHNvY2tldC5vbmVycm9yID0gc29ja2V0Lm9ub3BlbiA9IHNvY2tldC5vbmNsb3NlID0gbnVsbDtcblx0XHRcdFx0c29ja2V0LmNsb3NlKCk7XG5cdFx0XHRcdHNvY2tldCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmICh0aGlzLnNvY2tldHMuZ2V0KGtleSkpIHtcblx0XHRcdFx0dGhpcy5zb2NrZXRzLmRlbGV0ZShrZXkpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRkZXN0cm95QnlLZXkoa2V5KSB7XG5cdFx0XHRsZXQgc29ja2V0ID0gdGhpcy5zb2NrZXRzLmdldChrZXkpIFxuXHRcdFx0aWYgKHNvY2tldCkge1xuXHRcdFx0XHR0aGlzLmRlc3Ryb3koc29ja2V0LCBrZXkpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRnZXRLZXkobmFtZXNwYWNlLCByb29tKSB7XG5cdFx0XHRsZXQga2V5ID0gYCR7dGhpcy5wcmVmaXh9YDtcblx0XHRcdGlmIChuYW1lc3BhY2UgJiYgbmFtZXNwYWNlICE9ICcnKSB7XG5cdFx0XHRcdGlmIChyb29tICYmICByb29tICE9ICcnKSB7XG5cdFx0XHRcdFx0a2V5ICs9IGAvJHtuYW1lc3BhY2V9LyR7cm9vbX1gO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGtleSArPWAvJHtuYW1lc3BhY2V9YDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGtleTtcblx0XHR9XG5cdFx0XG5cdFx0Z2V0QnlSb29tKHJvb20pIHtcblx0XHRcdGxldCBrZXkgPSB0aGlzLmdldEtleUJ5Um9vbShyb29tKVxuXHRcdFx0cmV0dXJuIHRoaXMuc29ja2V0cy5nZXQoa2V5KTtcdFxuXHRcdH1cblx0XHRcblx0XHRnZXRLZXlCeVJvb20ocm9vbSkge1xuXHRcdFx0bGV0IGtleSA9IHRoaXMuZ2xvYmFsU2NvcGU7XG5cdFx0XHRpZiAocm9vbSkge1xuXHRcdFx0XHRrZXkgPSBgJHt0aGlzLnByZWZpeH0vJHtyb29tfWA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4ga2V5O1x0XHRcblx0XHR9XG5cdFx0XG5cdFx0XG5cdFx0c2F2ZUZpbGUoYmxvYikge1xuXHRcdFx0aWYgKHduZC5kb2N1bWVudCkge1xuXHRcdFx0XHRjb25zdCBmaWxlX25hbWUgPSB0aGlzLnNhdmVGaWxlTmFtZSB8fCAnZG93bmxvYWRGaWxlJztcblx0XHRcdFx0dmFyIGEgPSB3bmQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG5cdFx0ICAgICAgICB3bmQuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcblx0XHQgICAgICAgIGEuc3R5bGUgPSBcImRpc3BsYXk6IG5vbmVcIjtcblx0XHRcblx0XHQgICAgICAgIGxldCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblx0XHQgICAgICAgIGEuaHJlZiA9IHVybDtcblx0XHQgICAgICAgIGEuZG93bmxvYWQgPSBmaWxlX25hbWU7XG5cdFx0ICAgICAgICBhLmNsaWNrKCk7XG5cdFx0ICAgICAgICB3bmQuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuXHRcdFxuXHRcdCAgICAgICAgdGhpcy5zYXZlRmlsZU5hbWUgPSAnJ1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRsaXN0ZW5Bc3luYyhldmVudG5hbWUpIHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGlmICh3bmQuZG9jdW1lbnQpIHsgLy8uIGJyb3dzZXIgY2FzZVxuXHRcdFx0XHRcdHduZC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50bmFtZSwgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHQgICAgcmVzb2x2ZShldmVudC5kZXRhaWwpO1xuXHRcdFx0XHRcdH0sIHsgb25jZTogdHJ1ZSB9KVxuXHRcdFx0XHR9IGVsc2UgeyAvLy4gbm9kZSBjYXNlXG5cdFx0XHRcdFx0cHJvY2Vzcy5vbmNlKGV2ZW50bmFtZSwgKGRhdGEpID0+IHtcblx0XHRcdFx0XHRcdHJlc29sdmUoZGF0YSlcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH1cblx0fVxuICAgIHJldHVybiBDb0NyZWF0ZVNvY2tldENsaWVudFxufSkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreate-components/CoCreate-socket-client/src/index.js\n")},"./src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _api = _interopRequireDefault(__webpack_require__(/*! @cocreate/api */ "../../CoCreate-components/CoCreate-api/src/index.js"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CoCreateStripe = {\n  id: \'stripe\',\n  actions: [\'balanceTransaction\', \'createSourceCustomer\', \'createCustomer\', \'getBalance\', \'listCustomers\', \'createTokenCard\', \'createCustomer\', \'updateCustomer\', \'createCharge\', \'create\'],\n  render_create: function (data) {\n    if (data.object == "error") {\n      alert(data.data);\n    }\n\n    data = {\n      data: data\n    };\n    console.log("data ", data);\n  },\n  render_createCharge: function (data) {\n    if (data.object == "error") {\n      alert(data.data);\n    }\n\n    data = {\n      data: data\n    };\n    console.log("data ", data);\n  },\n  render_updateCustomer: function (data) {\n    if (data.object == "error") {\n      alert(data.data);\n    }\n\n    data = {\n      data: data\n    };\n    console.log("data ", data);\n  },\n  render_createCustomer: function (data) {\n    if (data.object == "error") {\n      alert(data.data);\n    }\n\n    data = {\n      data: data\n    };\n    console.log("data ", data);\n  },\n  render_createTokenCard: function (data) {\n    if (data.object == "error") {\n      alert(data.data);\n    }\n\n    data = {\n      data: data\n    };\n    console.log("createTokenCard ", data);\n    CoCreate.api.render(\'createTokenCard\', data);\n  },\n  render_balanceTransaction: function (data) {\n    if (data.object == "error") {\n      alert(data.data);\n    }\n\n    data = {\n      data: data\n    };\n    console.log("data ", data);\n  },\n  render_createSourceCustomer: function (data) {\n    if (data.object == "error") {\n      alert(data.data);\n    }\n\n    data = {\n      data: data\n    };\n    console.log("data ", data);\n  },\n  render_getBalance: function (data) {\n    if (data.object == "error") {\n      alert(data.data);\n    }\n\n    data = {\n      data: data\n    };\n    console.log("data ", data);\n    CoCreate.api.render(\'getBalance\', data);\n  },\n  render_createCustomer: function (data) {\n    if (data.object == "error") {\n      alert(data.data);\n    }\n\n    data = {\n      data: data\n    };\n    console.log("data ", data);\n    CoCreate.api.render(\'createCustomer\', data);\n  },\n  render_listCustomers: function (data) {\n    if (data.object == "error") {\n      alert(data.data);\n    }\n\n    data = {\n      data: data\n    };\n    console.log("data ", data);\n    CoCreate.api.render(\'listCustomers\', data);\n  }\n};\n\n_api.default.init({\n  name: CoCreateStripe.id,\n  module: CoCreateStripe\n});\n\nvar _default = CoCreateStripe;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5zdHJpcGUvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJDb0NyZWF0ZVN0cmlwZSIsImlkIiwiYWN0aW9ucyIsInJlbmRlcl9jcmVhdGUiLCJkYXRhIiwib2JqZWN0IiwiYWxlcnQiLCJjb25zb2xlIiwibG9nIiwicmVuZGVyX2NyZWF0ZUNoYXJnZSIsInJlbmRlcl91cGRhdGVDdXN0b21lciIsInJlbmRlcl9jcmVhdGVDdXN0b21lciIsInJlbmRlcl9jcmVhdGVUb2tlbkNhcmQiLCJDb0NyZWF0ZSIsImFwaSIsInJlbmRlciIsInJlbmRlcl9iYWxhbmNlVHJhbnNhY3Rpb24iLCJyZW5kZXJfY3JlYXRlU291cmNlQ3VzdG9tZXIiLCJyZW5kZXJfZ2V0QmFsYW5jZSIsInJlbmRlcl9saXN0Q3VzdG9tZXJzIiwiaW5pdCIsIm5hbWUiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUdBLE1BQU1BLGNBQWMsR0FBRztBQUN0QkMsSUFBRSxFQUFFLFFBRGtCO0FBRXRCQyxTQUFPLEVBQUUsQ0FDUCxvQkFETyxFQUVQLHNCQUZPLEVBR1AsZ0JBSE8sRUFJUCxZQUpPLEVBS1AsZUFMTyxFQU1QLGlCQU5PLEVBT1AsZ0JBUE8sRUFRUCxnQkFSTyxFQVNQLGNBVE8sRUFVUCxRQVZPLENBRmE7QUFnQnRCQyxlQUFhLEVBQUUsVUFBU0MsSUFBVCxFQUFlO0FBQ3hCLFFBQUlBLElBQUksQ0FBQ0MsTUFBTCxJQUFlLE9BQW5CLEVBQTRCO0FBQ3ZCQyxXQUFLLENBQUNGLElBQUksQ0FBQ0EsSUFBTixDQUFMO0FBQ0g7O0FBQ0ZBLFFBQUksR0FBRztBQUFDQSxVQUFJLEVBQUVBO0FBQVAsS0FBUDtBQUNBRyxXQUFPLENBQUNDLEdBQVIsQ0FBWSxPQUFaLEVBQW9CSixJQUFwQjtBQUNMLEdBdEJxQjtBQXVCdEJLLHFCQUFtQixFQUFFLFVBQVNMLElBQVQsRUFBZTtBQUM5QixRQUFJQSxJQUFJLENBQUNDLE1B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QVAsS0FBUDtBQUNBRyxXQUFPLENBQUNDLEdBQVIsQ0FBWSxPQUFaLEVBQW9CSixJQUFwQjtBQUNEUyxZQUFRLENBQUNDLEdBQVQsQ0FBYUMsTUFBYixDQUFvQixnQkFBcEIsRUFBc0NYLElBQXRDO0FBQ0osR0FuRnFCO0FBb0Z0QmUsc0JBQW9CLEVBQUUsVUFBU2YsSUFBVCxFQUFlO0FBQy9CLFFBQUlBLElBQUksQ0FBQ0MsTUFBTCxJQUFlLE9BQW5CLEVBQTRCO0FBQ3ZCQyxXQUFLLENBQUNGLElBQUksQ0FBQ0EsSUFBTixDQUFMO0FBQ0g7O0FBQ0ZBLFFBQUksR0FBRztBQUFDQSxVQUFJLEVBQUVBO0FBQVAsS0FBUDtBQUNBRyxXQUFPLENBQUNDLEdBQVIsQ0FBWSxPQUFaLEVBQW9CSixJQUFwQjtBQUNEUyxZQUFRLENBQUNDLEdBQVQsQ0FBYUMsTUFBYixDQUFvQixlQUFwQixFQUFxQ1gsSUFBckM7QUFDSjtBQTNGcUIsQ0FBdkI7O0FBOEZBVSxhQUFJTSxJQUFKLENBQVM7QUFDUkMsTUFBSSxFQUFFckIsY0FBYyxDQUFDQyxFQURiO0FBRVJxQixRQUFNLEVBQUV0QjtBQUZBLENBQVQ7O2VBS2VBLGMiLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXBpIGZyb20gJ0Bjb2NyZWF0ZS9hcGknXG5cblxuY29uc3QgQ29DcmVhdGVTdHJpcGUgPSB7XG5cdGlkOiAnc3RyaXBlJyxcblx0YWN0aW9uczogW1xuXHQgICdiYWxhbmNlVHJhbnNhY3Rpb24nLFxuXHQgICdjcmVhdGVTb3VyY2VDdXN0b21lcicsXG5cdCAgJ2NyZWF0ZUN1c3RvbWVyJyxcblx0ICAnZ2V0QmFsYW5jZScsXG5cdCAgJ2xpc3RDdXN0b21lcnMnLFxuXHQgICdjcmVhdGVUb2tlbkNhcmQnLFxuXHQgICdjcmVhdGVDdXN0b21lcicsXG5cdCAgJ3VwZGF0ZUN1c3RvbWVyJyxcblx0ICAnY3JlYXRlQ2hhcmdlJyxcblx0ICAnY3JlYXRlJ1xuXHRdLFxuXHRcblx0XG5cdHJlbmRlcl9jcmVhdGU6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICBpZiAoZGF0YS5vYmplY3QgPT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICBhbGVydChkYXRhLmRhdGEpXG4gICAgICAgIH1cbiAgICAgICBkYXRhID0ge2RhdGE6IGRhdGF9O1xuICAgICAgIGNvbnNvbGUubG9nKFwiZGF0YSBcIixkYXRhKVxuXHR9LFxuXHRyZW5kZXJfY3JlYXRlQ2hhcmdlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgaWYgKGRhdGEub2JqZWN0ID09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhKVxuICAgICAgICB9XG4gICAgICAgZGF0YSA9IHtkYXRhOiBkYXRhfTtcbiAgICAgICBjb25zb2xlLmxvZyhcImRhdGEgXCIsZGF0YSlcblx0fSxcblx0cmVuZGVyX3VwZGF0ZUN1c3RvbWVyOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgaWYgKGRhdGEub2JqZWN0ID09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhKVxuICAgICAgICB9XG4gICAgICAgZGF0YSA9IHtkYXRhOiBkYXRhfTtcbiAgICAgICBjb25zb2xlLmxvZyhcImRhdGEgXCIsZGF0YSlcblx0fSxcblx0XG5cdHJlbmRlcl9jcmVhdGVDdXN0b21lcjogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgIGlmIChkYXRhLm9iamVjdCA9PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIGFsZXJ0KGRhdGEuZGF0YSlcbiAgICAgICAgfVxuICAgICAgIGRhdGEgPSB7ZGF0YTogZGF0YX07XG4gICAgICAgY29uc29sZS5sb2coXCJkYXRhIFwiLGRhdGEpXG5cdH0sXG5cdFxuXHRyZW5kZXJfY3JlYXRlVG9rZW5DYXJkOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgaWYgKGRhdGEub2JqZWN0ID09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhKVxuICAgICAgICB9XG4gICAgICAgZGF0YSA9IHtkYXRhOiBkYXRhfTtcbiAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZVRva2VuQ2FyZCBcIixkYXRhKVxuICAgICAgIENvQ3JlYXRlLmFwaS5yZW5kZXIoJ2NyZWF0ZVRva2VuQ2FyZCcsIGRhdGEpO1xuXHR9LFxuXHRyZW5kZXJfYmFsYW5jZVRyYW5zYWN0aW9uOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgaWYgKGRhdGEub2JqZWN0ID09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhKVxuICAgICAgICB9XG4gICAgICAgZGF0YSA9IHtkYXRhOiBkYXRhfTtcbiAgICAgICBjb25zb2xlLmxvZyhcImRhdGEgXCIsZGF0YSlcblx0fSxcblx0cmVuZGVyX2NyZWF0ZVNvdXJjZUN1c3RvbWVyOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgaWYgKGRhdGEub2JqZWN0ID09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhKVxuICAgICAgICB9XG4gICAgICAgZGF0YSA9IHtkYXRhOiBkYXRhfTtcbiAgICAgICBjb25zb2xlLmxvZyhcImRhdGEgXCIsZGF0YSlcblx0fSxcblx0cmVuZGVyX2dldEJhbGFuY2U6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICBpZiAoZGF0YS5vYmplY3QgPT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICBhbGVydChkYXRhLmRhdGEpXG4gICAgICAgIH1cbiAgICAgICBkYXRhID0ge2RhdGE6IGRhdGF9O1xuICAgICAgIGNvbnNvbGUubG9nKFwiZGF0YSBcIixkYXRhKVxuICAgICAgICBDb0NyZWF0ZS5hcGkucmVuZGVyKCdnZXRCYWxhbmNlJywgZGF0YSk7XG5cdH0sXG5cdHJlbmRlcl9jcmVhdGVDdXN0b21lcjogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgIGlmIChkYXRhLm9iamVjdCA9PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIGFsZXJ0KGRhdGEuZGF0YSlcbiAgICAgICAgfVxuICAgICAgIGRhdGEgPSB7ZGF0YTogZGF0YX07XG4gICAgICAgY29uc29sZS5sb2coXCJkYXRhIFwiLGRhdGEpXG4gICAgICBDb0NyZWF0ZS5hcGkucmVuZGVyKCdjcmVhdGVDdXN0b21lcicsIGRhdGEpO1xuXHR9LFxuXHRyZW5kZXJfbGlzdEN1c3RvbWVyczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgIGlmIChkYXRhLm9iamVjdCA9PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIGFsZXJ0KGRhdGEuZGF0YSlcbiAgICAgICAgfVxuICAgICAgIGRhdGEgPSB7ZGF0YTogZGF0YX07XG4gICAgICAgY29uc29sZS5sb2coXCJkYXRhIFwiLGRhdGEpXG4gICAgICBDb0NyZWF0ZS5hcGkucmVuZGVyKCdsaXN0Q3VzdG9tZXJzJywgZGF0YSk7XG5cdH0sXG59XG5cbmFwaS5pbml0KHtcblx0bmFtZTogQ29DcmVhdGVTdHJpcGUuaWQsIFxuXHRtb2R1bGU6XHRDb0NyZWF0ZVN0cmlwZSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZVN0cmlwZTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n')}},__webpack_module_cache__={};function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var B=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](B,B.exports,__webpack_require__),B.exports}var __webpack_exports__=__webpack_require__("./src/index.js");return __webpack_exports__=__webpack_exports__.default,__webpack_exports__})()}));